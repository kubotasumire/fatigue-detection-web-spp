{"ast":null,"code":"import { RichTypeFlowGraphInteger } from \"../../../flowGraphRichTypes.js\";\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal.js\";\nimport { RegisterClass } from \"../../../../Misc/typeStore.js\";\nimport { FlowGraphInteger } from \"../../../flowGraphInteger.js\";\n/**\n * A block that executes a branch a set number of times.\n * @experimental\n */\nexport class FlowGraphDoNBlock extends FlowGraphExecutionBlockWithOutSignal {\n  constructor(\n  /**\n   * the configuration of the block\n   */\n  config = {\n    startIndex: new FlowGraphInteger(0)\n  }) {\n    super(config);\n    this.config = config;\n    this.reset = this._registerSignalInput(\"reset\");\n    this.n = this.registerDataInput(\"n\", RichTypeFlowGraphInteger);\n    this.value = this.registerDataOutput(\"value\", RichTypeFlowGraphInteger);\n  }\n  _execute(context, callingSignal) {\n    if (callingSignal === this.reset) {\n      this.value.setValue(this.config.startIndex, context);\n    } else {\n      const currentCountValue = this.value.getValue(context);\n      if (currentCountValue.value < this.n.getValue(context).value) {\n        this.value.setValue(new FlowGraphInteger(currentCountValue.value + 1), context);\n        this.out._activateSignal(context);\n      }\n    }\n  }\n  /**\n   * @returns class name of the block.\n   */\n  getClassName() {\n    return FlowGraphDoNBlock.ClassName;\n  }\n}\n/**\n * the class name of the block.\n */\nFlowGraphDoNBlock.ClassName = \"FGDoNBlock\";\nRegisterClass(FlowGraphDoNBlock.ClassName, FlowGraphDoNBlock);\n//# sourceMappingURL=flowGraphDoNBlock.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}