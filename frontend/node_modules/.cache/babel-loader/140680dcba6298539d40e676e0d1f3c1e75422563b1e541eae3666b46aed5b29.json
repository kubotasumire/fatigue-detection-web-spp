{"ast":null,"code":"import { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal.js\";\nimport { RichTypeNumber } from \"../../../flowGraphRichTypes.js\";\nimport { RegisterClass } from \"../../../../Misc/typeStore.js\";\n/**\n * @experimental\n * Block that executes an action in a loop.\n */\nexport class FlowGraphForLoopBlock extends FlowGraphExecutionBlockWithOutSignal {\n  constructor(config) {\n    super(config);\n    this.startIndex = this.registerDataInput(\"startIndex\", RichTypeNumber);\n    this.endIndex = this.registerDataInput(\"endIndex\", RichTypeNumber);\n    this.step = this.registerDataInput(\"step\", RichTypeNumber);\n    this.index = this.registerDataOutput(\"index\", RichTypeNumber);\n    this.onLoop = this._registerSignalOutput(\"onLoop\");\n  }\n  _executeLoop(context) {\n    let index = context._getExecutionVariable(this, \"index\");\n    const endIndex = context._getExecutionVariable(this, \"endIndex\");\n    if (index < endIndex) {\n      this.index.setValue(index, context);\n      this.onLoop._activateSignal(context);\n      const step = context._getExecutionVariable(this, \"step\", 1);\n      index += step;\n      context._setExecutionVariable(this, \"index\", index);\n      this._executeLoop(context);\n    } else {\n      this.out._activateSignal(context);\n    }\n  }\n  /**\n   * @internal\n   */\n  _execute(context) {\n    const index = this.startIndex.getValue(context);\n    const endIndex = this.endIndex.getValue(context);\n    const step = this.step.getValue(context);\n    context._setExecutionVariable(this, \"index\", index);\n    context._setExecutionVariable(this, \"endIndex\", endIndex);\n    context._setExecutionVariable(this, \"step\", step);\n    this._executeLoop(context);\n  }\n  /**\n   * @returns class name of the block.\n   */\n  getClassName() {\n    return \"FGForLoopBlock\";\n  }\n}\nRegisterClass(\"FGForLoopBlock\", FlowGraphForLoopBlock);\n//# sourceMappingURL=flowGraphForLoopBlock.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}