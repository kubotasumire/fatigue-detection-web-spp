{"ast":null,"code":"import { ThinEngine } from \"../../thinEngine.js\";\nimport { InternalTexture, InternalTextureSource } from \"../../../Materials/Textures/internalTexture.js\";\nimport { WebGPUEngine } from \"../../webgpuEngine.js\";\nWebGPUEngine.prototype.createDynamicTexture = function (width, height, generateMipMaps, samplingMode) {\n  const texture = new InternalTexture(this, InternalTextureSource.Dynamic);\n  texture.baseWidth = width;\n  texture.baseHeight = height;\n  if (generateMipMaps) {\n    width = this.needPOTTextures ? ThinEngine.GetExponentOfTwo(width, this._caps.maxTextureSize) : width;\n    height = this.needPOTTextures ? ThinEngine.GetExponentOfTwo(height, this._caps.maxTextureSize) : height;\n  }\n  texture.width = width;\n  texture.height = height;\n  texture.isReady = false;\n  texture.generateMipMaps = generateMipMaps;\n  texture.samplingMode = samplingMode;\n  this.updateTextureSamplingMode(samplingMode, texture);\n  this._internalTexturesCache.push(texture);\n  if (width && height) {\n    this._textureHelper.createGPUTextureForInternalTexture(texture, width, height);\n  }\n  return texture;\n};\nWebGPUEngine.prototype.updateDynamicTexture = function (texture, source, invertY, premulAlpha = false, format, forceBindTexture, allowGPUOptimization) {\n  if (!texture) {\n    return;\n  }\n  const width = source.width,\n    height = source.height;\n  let gpuTextureWrapper = texture._hardwareTexture;\n  if (!texture._hardwareTexture?.underlyingResource) {\n    gpuTextureWrapper = this._textureHelper.createGPUTextureForInternalTexture(texture, width, height);\n  }\n  this._textureHelper.updateTexture(source, texture, width, height, texture.depth, gpuTextureWrapper.format, 0, 0, invertY, premulAlpha, 0, 0, allowGPUOptimization);\n  if (texture.generateMipMaps) {\n    this._generateMipmaps(texture);\n  }\n  texture._dynamicTextureSource = source;\n  texture._premulAlpha = premulAlpha;\n  texture.invertY = invertY || false;\n  texture.isReady = true;\n};\n//# sourceMappingURL=engine.dynamicTexture.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}