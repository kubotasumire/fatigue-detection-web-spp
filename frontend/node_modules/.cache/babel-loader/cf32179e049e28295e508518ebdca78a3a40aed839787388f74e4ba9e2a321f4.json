{"ast":null,"code":"import { Plane } from \"./math.plane.js\";\n/**\n * Represents a camera frustum\n */\nexport class Frustum {\n  /**\n   * Gets the planes representing the frustum\n   * @param transform matrix to be applied to the returned planes\n   * @returns a new array of 6 Frustum planes computed by the given transformation matrix.\n   */\n  static GetPlanes(transform) {\n    const frustumPlanes = [];\n    for (let index = 0; index < 6; index++) {\n      frustumPlanes.push(new Plane(0.0, 0.0, 0.0, 0.0));\n    }\n    Frustum.GetPlanesToRef(transform, frustumPlanes);\n    return frustumPlanes;\n  }\n  /**\n   * Gets the near frustum plane transformed by the transform matrix\n   * @param transform transformation matrix to be applied to the resulting frustum plane\n   * @param frustumPlane the resulting frustum plane\n   */\n  static GetNearPlaneToRef(transform, frustumPlane) {\n    const m = transform.m;\n    frustumPlane.normal.x = m[3] + m[2];\n    frustumPlane.normal.y = m[7] + m[6];\n    frustumPlane.normal.z = m[11] + m[10];\n    frustumPlane.d = m[15] + m[14];\n    frustumPlane.normalize();\n  }\n  /**\n   * Gets the far frustum plane transformed by the transform matrix\n   * @param transform transformation matrix to be applied to the resulting frustum plane\n   * @param frustumPlane the resulting frustum plane\n   */\n  static GetFarPlaneToRef(transform, frustumPlane) {\n    const m = transform.m;\n    frustumPlane.normal.x = m[3] - m[2];\n    frustumPlane.normal.y = m[7] - m[6];\n    frustumPlane.normal.z = m[11] - m[10];\n    frustumPlane.d = m[15] - m[14];\n    frustumPlane.normalize();\n  }\n  /**\n   * Gets the left frustum plane transformed by the transform matrix\n   * @param transform transformation matrix to be applied to the resulting frustum plane\n   * @param frustumPlane the resulting frustum plane\n   */\n  static GetLeftPlaneToRef(transform, frustumPlane) {\n    const m = transform.m;\n    frustumPlane.normal.x = m[3] + m[0];\n    frustumPlane.normal.y = m[7] + m[4];\n    frustumPlane.normal.z = m[11] + m[8];\n    frustumPlane.d = m[15] + m[12];\n    frustumPlane.normalize();\n  }\n  /**\n   * Gets the right frustum plane transformed by the transform matrix\n   * @param transform transformation matrix to be applied to the resulting frustum plane\n   * @param frustumPlane the resulting frustum plane\n   */\n  static GetRightPlaneToRef(transform, frustumPlane) {\n    const m = transform.m;\n    frustumPlane.normal.x = m[3] - m[0];\n    frustumPlane.normal.y = m[7] - m[4];\n    frustumPlane.normal.z = m[11] - m[8];\n    frustumPlane.d = m[15] - m[12];\n    frustumPlane.normalize();\n  }\n  /**\n   * Gets the top frustum plane transformed by the transform matrix\n   * @param transform transformation matrix to be applied to the resulting frustum plane\n   * @param frustumPlane the resulting frustum plane\n   */\n  static GetTopPlaneToRef(transform, frustumPlane) {\n    const m = transform.m;\n    frustumPlane.normal.x = m[3] - m[1];\n    frustumPlane.normal.y = m[7] - m[5];\n    frustumPlane.normal.z = m[11] - m[9];\n    frustumPlane.d = m[15] - m[13];\n    frustumPlane.normalize();\n  }\n  /**\n   * Gets the bottom frustum plane transformed by the transform matrix\n   * @param transform transformation matrix to be applied to the resulting frustum plane\n   * @param frustumPlane the resulting frustum plane\n   */\n  static GetBottomPlaneToRef(transform, frustumPlane) {\n    const m = transform.m;\n    frustumPlane.normal.x = m[3] + m[1];\n    frustumPlane.normal.y = m[7] + m[5];\n    frustumPlane.normal.z = m[11] + m[9];\n    frustumPlane.d = m[15] + m[13];\n    frustumPlane.normalize();\n  }\n  /**\n   * Sets the given array \"frustumPlanes\" with the 6 Frustum planes computed by the given transformation matrix.\n   * @param transform transformation matrix to be applied to the resulting frustum planes\n   * @param frustumPlanes the resulting frustum planes\n   */\n  static GetPlanesToRef(transform, frustumPlanes) {\n    // Near\n    Frustum.GetNearPlaneToRef(transform, frustumPlanes[0]);\n    // Far\n    Frustum.GetFarPlaneToRef(transform, frustumPlanes[1]);\n    // Left\n    Frustum.GetLeftPlaneToRef(transform, frustumPlanes[2]);\n    // Right\n    Frustum.GetRightPlaneToRef(transform, frustumPlanes[3]);\n    // Top\n    Frustum.GetTopPlaneToRef(transform, frustumPlanes[4]);\n    // Bottom\n    Frustum.GetBottomPlaneToRef(transform, frustumPlanes[5]);\n  }\n  /**\n   * Tests if a point is located between the frustum planes.\n   * @param point defines the point to test\n   * @param frustumPlanes defines the frustum planes to test\n   * @returns true if the point is located between the frustum planes\n   */\n  static IsPointInFrustum(point, frustumPlanes) {\n    for (let i = 0; i < 6; i++) {\n      if (frustumPlanes[i].dotCoordinate(point) < 0) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n//# sourceMappingURL=math.frustum.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}