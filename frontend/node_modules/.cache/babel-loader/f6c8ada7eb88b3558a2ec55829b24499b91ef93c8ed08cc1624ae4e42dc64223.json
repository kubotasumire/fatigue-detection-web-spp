{"ast":null,"code":"import { FlowGraphEventBlock } from \"../../flowGraphEventBlock.js\";\nimport { RegisterClass } from \"../../../Misc/typeStore.js\";\n/**\n * @experimental\n * Block that triggers on scene tick (before each render).\n */\nexport class FlowGraphSceneTickEventBlock extends FlowGraphEventBlock {\n  /**\n   * @internal\n   */\n  _preparePendingTasks(context) {\n    if (!context._getExecutionVariable(this, \"sceneBeforeRender\")) {\n      const scene = context.configuration.scene;\n      const contextObserver = scene.onBeforeRenderObservable.add(() => {\n        this._execute(context);\n      });\n      context._setExecutionVariable(this, \"sceneBeforeRender\", contextObserver);\n    }\n  }\n  /**\n   * @internal\n   */\n  _cancelPendingTasks(context) {\n    const contextObserver = context._getExecutionVariable(this, \"sceneBeforeRender\");\n    const scene = context.configuration.scene;\n    scene.onBeforeRenderObservable.remove(contextObserver);\n    context._deleteExecutionVariable(this, \"sceneBeforeRender\");\n  }\n  /**\n   * @returns class name of the block.\n   */\n  getClassName() {\n    return FlowGraphSceneTickEventBlock.ClassName;\n  }\n}\n/**\n * the class name of the block.\n */\nFlowGraphSceneTickEventBlock.ClassName = \"FGSceneTickEventBlock\";\nRegisterClass(FlowGraphSceneTickEventBlock.ClassName, FlowGraphSceneTickEventBlock);\n//# sourceMappingURL=flowGraphSceneTickEventBlock.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}