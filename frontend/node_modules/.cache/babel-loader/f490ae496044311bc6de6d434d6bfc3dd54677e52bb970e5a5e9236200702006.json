{"ast":null,"code":"import { FlowGraphBlock } from \"../../flowGraphBlock.js\";\nconst cacheName = \"cachedOperationValue\";\nconst cacheExecIdName = \"cachedExecutionId\";\n/**\n * @experimental\n */\nexport class FlowGraphCachedOperationBlock extends FlowGraphBlock {\n  constructor(outputRichType, config) {\n    super(config);\n    this.value = this.registerDataOutput(\"value\", outputRichType);\n  }\n  _updateOutputs(context) {\n    const cachedExecutionId = context._getExecutionVariable(this, cacheExecIdName);\n    const cachedValue = context._getExecutionVariable(this, cacheName);\n    if (cachedValue !== undefined && cachedExecutionId === context.executionId) {\n      this.value.setValue(cachedValue, context);\n    } else {\n      const calculatedValue = this._doOperation(context);\n      context._setExecutionVariable(this, cacheName, calculatedValue);\n      context._setExecutionVariable(this, cacheExecIdName, context.executionId);\n      this.value.setValue(calculatedValue, context);\n    }\n  }\n}\n//# sourceMappingURL=flowGraphCachedOperationBlock.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}