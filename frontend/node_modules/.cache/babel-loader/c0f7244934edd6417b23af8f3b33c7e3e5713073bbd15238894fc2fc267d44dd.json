{"ast":null,"code":"import { Logger } from \"../../Misc/logger.js\";\nimport { Tools } from \"../../Misc/tools.js\";\n/** @internal */\nexport class WebGPUTintWASM {\n  async initTwgsl(twgslOptions) {\n    if (WebGPUTintWASM._Twgsl) {\n      return;\n    }\n    twgslOptions = twgslOptions || {};\n    twgslOptions = {\n      ...WebGPUTintWASM._TWgslDefaultOptions,\n      ...twgslOptions\n    };\n    if (twgslOptions.twgsl) {\n      WebGPUTintWASM._Twgsl = twgslOptions.twgsl;\n      return Promise.resolve();\n    }\n    if (twgslOptions.jsPath && twgslOptions.wasmPath) {\n      await Tools.LoadBabylonScriptAsync(twgslOptions.jsPath);\n    }\n    if (self.twgsl) {\n      WebGPUTintWASM._Twgsl = await self.twgsl(Tools.GetBabylonScriptURL(twgslOptions.wasmPath));\n      return Promise.resolve();\n    }\n    return Promise.reject(\"twgsl is not available.\");\n  }\n  convertSpirV2WGSL(code, disableUniformityAnalysis = false) {\n    const ccode = WebGPUTintWASM._Twgsl.convertSpirV2WGSL(code, WebGPUTintWASM.DisableUniformityAnalysis || disableUniformityAnalysis);\n    if (WebGPUTintWASM.ShowWGSLShaderCode) {\n      Logger.Log(ccode);\n      Logger.Log(\"***********************************************\");\n    }\n    return WebGPUTintWASM.DisableUniformityAnalysis || disableUniformityAnalysis ? \"diagnostic(off, derivative_uniformity);\\n\" + ccode : ccode;\n  }\n}\n// Default twgsl options.\nWebGPUTintWASM._TWgslDefaultOptions = {\n  jsPath: `${Tools._DefaultCdnUrl}/twgsl/twgsl.js`,\n  wasmPath: `${Tools._DefaultCdnUrl}/twgsl/twgsl.wasm`\n};\nWebGPUTintWASM.ShowWGSLShaderCode = false;\nWebGPUTintWASM.DisableUniformityAnalysis = false;\nWebGPUTintWASM._Twgsl = null;\n//# sourceMappingURL=webgpuTintWASM.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}