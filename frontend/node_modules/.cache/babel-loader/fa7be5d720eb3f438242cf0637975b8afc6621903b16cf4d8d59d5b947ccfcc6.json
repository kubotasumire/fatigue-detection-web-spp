{"ast":null,"code":"import { DeviceEventFactory } from \"./eventFactory.js\";\nimport { DeviceType } from \"./InputDevices/deviceEnums.js\";\n/** @internal */\nexport class NativeDeviceInputSystem {\n  constructor(onDeviceConnected, onDeviceDisconnected, onInputChanged) {\n    this._nativeInput = _native.DeviceInputSystem ? new _native.DeviceInputSystem(onDeviceConnected, onDeviceDisconnected, (deviceType, deviceSlot, inputIndex, currentState) => {\n      const evt = DeviceEventFactory.CreateDeviceEvent(deviceType, deviceSlot, inputIndex, currentState, this);\n      onInputChanged(deviceType, deviceSlot, evt);\n    }) : this._createDummyNativeInput();\n  }\n  // Public functions\n  /**\n   * Checks for current device input value, given an id and input index. Throws exception if requested device not initialized.\n   * @param deviceType Enum specifying device type\n   * @param deviceSlot \"Slot\" or index that device is referenced in\n   * @param inputIndex Id of input to be checked\n   * @returns Current value of input\n   */\n  pollInput(deviceType, deviceSlot, inputIndex) {\n    return this._nativeInput.pollInput(deviceType, deviceSlot, inputIndex);\n  }\n  /**\n   * Check for a specific device in the DeviceInputSystem\n   * @param deviceType Type of device to check for\n   * @returns bool with status of device's existence\n   */\n  isDeviceAvailable(deviceType) {\n    //TODO: FIx native side first\n    return deviceType === DeviceType.Mouse || deviceType === DeviceType.Touch;\n  }\n  /**\n   * Dispose of all the observables\n   */\n  dispose() {\n    this._nativeInput.dispose();\n  }\n  /**\n   * For versions of BabylonNative that don't have the NativeInput plugin initialized, create a dummy version\n   * @returns Object with dummy functions\n   */\n  _createDummyNativeInput() {\n    const nativeInput = {\n      pollInput: () => {\n        return 0;\n      },\n      isDeviceAvailable: () => {\n        return false;\n      },\n      dispose: () => {}\n    };\n    return nativeInput;\n  }\n}\n//# sourceMappingURL=nativeDeviceInputSystem.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}