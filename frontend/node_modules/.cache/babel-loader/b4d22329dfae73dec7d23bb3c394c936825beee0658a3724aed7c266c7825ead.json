{"ast":null,"code":"import { Texture } from \"../Materials/Textures/texture.js\";\nimport { PostProcess } from \"./postProcess.js\";\nimport \"../Shaders/vrMultiviewToSingleview.fragment.js\";\nimport \"../Engines/Extensions/engine.multiview.js\";\n/**\n * VRMultiviewToSingleview used to convert multiview texture arrays to standard textures for scenarios such as webVR\n * This will not be used for webXR as it supports displaying texture arrays directly\n */\nexport class VRMultiviewToSingleviewPostProcess extends PostProcess {\n  /**\n   * Gets a string identifying the name of the class\n   * @returns \"VRMultiviewToSingleviewPostProcess\" string\n   */\n  getClassName() {\n    return \"VRMultiviewToSingleviewPostProcess\";\n  }\n  /**\n   * Initializes a VRMultiviewToSingleview\n   * @param name name of the post process\n   * @param camera camera to be applied to\n   * @param scaleFactor scaling factor to the size of the output texture\n   */\n  constructor(name, camera, scaleFactor) {\n    super(name, \"vrMultiviewToSingleview\", [\"imageIndex\"], [\"multiviewSampler\"], scaleFactor, camera, Texture.BILINEAR_SAMPLINGMODE);\n    const cam = camera ?? this.getCamera();\n    this.onSizeChangedObservable.add(() => {});\n    this.onApplyObservable.add(effect => {\n      if (cam._scene.activeCamera && cam._scene.activeCamera.isLeftCamera) {\n        effect.setInt(\"imageIndex\", 0);\n      } else {\n        effect.setInt(\"imageIndex\", 1);\n      }\n      effect.setTexture(\"multiviewSampler\", cam._multiviewTexture);\n    });\n  }\n}\n//# sourceMappingURL=vrMultiviewToSingleviewPostProcess.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}