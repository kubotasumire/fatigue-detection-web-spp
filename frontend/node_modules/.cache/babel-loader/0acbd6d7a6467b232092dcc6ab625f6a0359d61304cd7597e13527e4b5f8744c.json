{"ast":null,"code":"import { NodeMaterialBlock } from \"../../nodeMaterialBlock.js\";\nimport { NodeMaterialBlockConnectionPointTypes } from \"../../Enums/nodeMaterialBlockConnectionPointTypes.js\";\nimport { NodeMaterialBlockTargets } from \"../../Enums/nodeMaterialBlockTargets.js\";\nimport { RegisterClass } from \"../../../../Misc/typeStore.js\";\n/**\n * Block used to get the screen sizes\n */\nexport class ScreenSizeBlock extends NodeMaterialBlock {\n  /**\n   * Creates a new ScreenSizeBlock\n   * @param name defines the block name\n   */\n  constructor(name) {\n    super(name, NodeMaterialBlockTargets.Fragment);\n    this.registerOutput(\"xy\", NodeMaterialBlockConnectionPointTypes.Vector2, NodeMaterialBlockTargets.Fragment);\n    this.registerOutput(\"x\", NodeMaterialBlockConnectionPointTypes.Float, NodeMaterialBlockTargets.Fragment);\n    this.registerOutput(\"y\", NodeMaterialBlockConnectionPointTypes.Float, NodeMaterialBlockTargets.Fragment);\n  }\n  /**\n   * Gets the current class name\n   * @returns the class name\n   */\n  getClassName() {\n    return \"ScreenSizeBlock\";\n  }\n  /**\n   * Gets the xy component\n   */\n  get xy() {\n    return this._outputs[0];\n  }\n  /**\n   * Gets the x component\n   */\n  get x() {\n    return this._outputs[1];\n  }\n  /**\n   * Gets the y component\n   */\n  get y() {\n    return this._outputs[2];\n  }\n  bind(effect) {\n    const engine = this._scene.getEngine();\n    effect.setFloat2(this._varName, engine.getRenderWidth(), engine.getRenderHeight());\n  }\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  writeOutputs(state, varName) {\n    let code = \"\";\n    for (const output of this._outputs) {\n      if (output.hasEndpoints) {\n        code += `${this._declareOutput(output, state)} = ${varName}.${output.name};\\n`;\n      }\n    }\n    return code;\n  }\n  _buildBlock(state) {\n    super._buildBlock(state);\n    this._scene = state.sharedData.scene;\n    if (state.target === NodeMaterialBlockTargets.Vertex) {\n      // eslint-disable-next-line no-throw-literal\n      throw \"ScreenSizeBlock must only be used in a fragment shader\";\n    }\n    state.sharedData.bindableBlocks.push(this);\n    this._varName = state._getFreeVariableName(\"screenSize\");\n    state._emitUniformFromString(this._varName, \"vec2\");\n    state.compilationString += this.writeOutputs(state, this._varName);\n    return this;\n  }\n}\nRegisterClass(\"BABYLON.ScreenSizeBlock\", ScreenSizeBlock);\n//# sourceMappingURL=screenSizeBlock.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}