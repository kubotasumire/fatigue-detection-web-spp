{"ast":null,"code":"import { NodeGeometryBlock } from \"../../nodeGeometryBlock.js\";\nimport { RegisterClass } from \"../../../../Misc/typeStore.js\";\nimport { NodeGeometryBlockConnectionPointTypes } from \"../../Enums/nodeGeometryConnectionPointTypes.js\";\nimport { GeometryInputBlock } from \"../geometryInputBlock.js\";\nimport { Matrix, Vector3 } from \"../../../../Maths/math.vector.js\";\n/**\n * Block used to get a scaling matrix\n */\nexport class ScalingBlock extends NodeGeometryBlock {\n  /**\n   * Create a new ScalingBlock\n   * @param name defines the block name\n   */\n  constructor(name) {\n    super(name);\n    this.registerInput(\"scale\", NodeGeometryBlockConnectionPointTypes.Vector3, false, Vector3.One());\n    this.registerOutput(\"matrix\", NodeGeometryBlockConnectionPointTypes.Matrix);\n  }\n  /**\n   * Gets the current class name\n   * @returns the class name\n   */\n  getClassName() {\n    return \"ScalingBlock\";\n  }\n  /**\n   * Gets the scale input component\n   */\n  get scale() {\n    return this._inputs[0];\n  }\n  /**\n   * Gets the matrix output component\n   */\n  get matrix() {\n    return this._outputs[0];\n  }\n  autoConfigure() {\n    if (!this.scale.isConnected) {\n      const scaleInput = new GeometryInputBlock(\"Scale\");\n      scaleInput.value = new Vector3(1, 1, 1);\n      scaleInput.output.connectTo(this.scale);\n    }\n  }\n  _buildBlock(state) {\n    super._buildBlock(state);\n    this.matrix._storedFunction = state => {\n      const value = this.scale.getConnectedValue(state);\n      return Matrix.Scaling(value.x, value.y, value.z);\n    };\n  }\n}\nRegisterClass(\"BABYLON.ScalingBlock\", ScalingBlock);\n//# sourceMappingURL=scalingBlock.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}