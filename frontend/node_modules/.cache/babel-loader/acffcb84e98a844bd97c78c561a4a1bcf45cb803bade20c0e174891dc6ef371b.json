{"ast":null,"code":"/**\n * Convert Unix timestamp (milliseconds) to JST (Japan Standard Time) formatted string\n * @param {number} timestamp - Unix timestamp in milliseconds\n * @returns {string} - Formatted date string in JST (YYYY-MM-DD HH:mm:ss.SSS)\n */\nexport const formatToJST = timestamp => {\n  if (!timestamp || typeof timestamp !== 'number') {\n    return 'N/A';\n  }\n  const date = new Date(timestamp);\n\n  // Convert to JST (UTC+9)\n  const jstDate = new Date(date.toLocaleString('ja-JP', {\n    timeZone: 'Asia/Tokyo'\n  }));\n\n  // Format: YYYY-MM-DD HH:mm:ss.SSS\n  const year = jstDate.getFullYear();\n  const month = String(jstDate.getMonth() + 1).padStart(2, '0');\n  const day = String(jstDate.getDate()).padStart(2, '0');\n  const hours = String(jstDate.getHours()).padStart(2, '0');\n  const minutes = String(jstDate.getMinutes()).padStart(2, '0');\n  const seconds = String(jstDate.getSeconds()).padStart(2, '0');\n  const milliseconds = String(jstDate.getMilliseconds()).padStart(3, '0');\n  return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}.${milliseconds}`;\n};\n\n/**\n * Convert Unix timestamp (milliseconds) to JST ISO format\n * @param {number} timestamp - Unix timestamp in milliseconds\n * @returns {string} - ISO formatted date string in JST (YYYY-MM-DDTHH:mm:ss.SSSZ)\n */\nexport const formatToJSTISO = timestamp => {\n  if (!timestamp || typeof timestamp !== 'number') {\n    return 'N/A';\n  }\n  const date = new Date(timestamp);\n\n  // Get JST offset (UTC+9 = 9 hours = 32400 seconds)\n  const offset = 9 * 60 * 60 * 1000;\n  const jstDate = new Date(date.getTime() + offset - date.getTimezoneOffset() * 60 * 1000);\n  return jstDate.toISOString().split('Z')[0] + '+09:00';\n};\n\n/**\n * Convert session data timestamps to JST format\n * @param {object} sessionData - Session data object with timestamps\n * @returns {object} - Session data with formatted timestamps\n */\nexport const formatSessionDataToJST = sessionData => {\n  if (!sessionData) return sessionData;\n  const formattedData = {\n    ...sessionData\n  };\n\n  // Format main timestamps\n  if (formattedData.startTime) {\n    formattedData.startTimeJST = formatToJST(formattedData.startTime);\n  }\n  if (formattedData.endTime) {\n    formattedData.endTimeJST = formatToJST(formattedData.endTime);\n  }\n  if (formattedData.timestamp) {\n    formattedData.timestampJST = formatToJST(formattedData.timestamp);\n  }\n\n  // Format quiz response timestamps\n  if (formattedData.quizResponses && Array.isArray(formattedData.quizResponses)) {\n    formattedData.quizResponses = formattedData.quizResponses.map(response => ({\n      ...response,\n      timestampJST: formatToJST(response.timestamp)\n    }));\n  }\n\n  // Format sensor data timestamps\n  if (formattedData.sensorData && Array.isArray(formattedData.sensorData)) {\n    formattedData.sensorData = formattedData.sensorData.map(data => ({\n      ...data,\n      timestampJST: formatToJST(data.timestamp)\n    }));\n  }\n  return formattedData;\n};\n\n/**\n * Generate Japanese datetime filename with session number\n * @param {number} timestamp - Unix timestamp in milliseconds\n * @param {string} sessionId - Session ID\n * @returns {string} - Filename in format: YYYY年MM月DD日_HH時MM分SS秒_sessionNo\n */\nexport const generateJapaneseDatetimeFilename = (timestamp, sessionId) => {\n  if (!timestamp || typeof timestamp !== 'number') {\n    return `session_${new Date().getTime()}`;\n  }\n  const date = new Date(timestamp);\n\n  // Convert to JST\n  const jstDate = new Date(date.toLocaleString('ja-JP', {\n    timeZone: 'Asia/Tokyo'\n  }));\n  const year = jstDate.getFullYear();\n  const month = String(jstDate.getMonth() + 1).padStart(2, '0');\n  const day = String(jstDate.getDate()).padStart(2, '0');\n  const hours = String(jstDate.getHours()).padStart(2, '0');\n  const minutes = String(jstDate.getMinutes()).padStart(2, '0');\n  const seconds = String(jstDate.getSeconds()).padStart(2, '0');\n\n  // Extract session number from session ID (format: session_timestamp_random)\n  const sessionNumber = sessionId ? sessionId.split('_')[1] : new Date().getTime();\n\n  // Format: YYYY年MM月DD日_HH時MM分SS秒_sessionNo\n  return `${year}年${month}月${day}日_${hours}時${minutes}分${seconds}秒_${sessionNumber}`;\n};","map":{"version":3,"names":["formatToJST","timestamp","date","Date","jstDate","toLocaleString","timeZone","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","milliseconds","getMilliseconds","formatToJSTISO","offset","getTime","getTimezoneOffset","toISOString","split","formatSessionDataToJST","sessionData","formattedData","startTime","startTimeJST","endTime","endTimeJST","timestampJST","quizResponses","Array","isArray","map","response","sensorData","data","generateJapaneseDatetimeFilename","sessionId","sessionNumber"],"sources":["/Users/kubotasumire/Univ./卒論/s-2/fatigue-detection-web-spp/frontend/src/utils/dateFormatter.js"],"sourcesContent":["/**\n * Convert Unix timestamp (milliseconds) to JST (Japan Standard Time) formatted string\n * @param {number} timestamp - Unix timestamp in milliseconds\n * @returns {string} - Formatted date string in JST (YYYY-MM-DD HH:mm:ss.SSS)\n */\nexport const formatToJST = (timestamp) => {\n  if (!timestamp || typeof timestamp !== 'number') {\n    return 'N/A';\n  }\n\n  const date = new Date(timestamp);\n\n  // Convert to JST (UTC+9)\n  const jstDate = new Date(date.toLocaleString('ja-JP', { timeZone: 'Asia/Tokyo' }));\n\n  // Format: YYYY-MM-DD HH:mm:ss.SSS\n  const year = jstDate.getFullYear();\n  const month = String(jstDate.getMonth() + 1).padStart(2, '0');\n  const day = String(jstDate.getDate()).padStart(2, '0');\n  const hours = String(jstDate.getHours()).padStart(2, '0');\n  const minutes = String(jstDate.getMinutes()).padStart(2, '0');\n  const seconds = String(jstDate.getSeconds()).padStart(2, '0');\n  const milliseconds = String(jstDate.getMilliseconds()).padStart(3, '0');\n\n  return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}.${milliseconds}`;\n};\n\n/**\n * Convert Unix timestamp (milliseconds) to JST ISO format\n * @param {number} timestamp - Unix timestamp in milliseconds\n * @returns {string} - ISO formatted date string in JST (YYYY-MM-DDTHH:mm:ss.SSSZ)\n */\nexport const formatToJSTISO = (timestamp) => {\n  if (!timestamp || typeof timestamp !== 'number') {\n    return 'N/A';\n  }\n\n  const date = new Date(timestamp);\n\n  // Get JST offset (UTC+9 = 9 hours = 32400 seconds)\n  const offset = 9 * 60 * 60 * 1000;\n  const jstDate = new Date(date.getTime() + offset - (date.getTimezoneOffset() * 60 * 1000));\n\n  return jstDate.toISOString().split('Z')[0] + '+09:00';\n};\n\n/**\n * Convert session data timestamps to JST format\n * @param {object} sessionData - Session data object with timestamps\n * @returns {object} - Session data with formatted timestamps\n */\nexport const formatSessionDataToJST = (sessionData) => {\n  if (!sessionData) return sessionData;\n\n  const formattedData = { ...sessionData };\n\n  // Format main timestamps\n  if (formattedData.startTime) {\n    formattedData.startTimeJST = formatToJST(formattedData.startTime);\n  }\n\n  if (formattedData.endTime) {\n    formattedData.endTimeJST = formatToJST(formattedData.endTime);\n  }\n\n  if (formattedData.timestamp) {\n    formattedData.timestampJST = formatToJST(formattedData.timestamp);\n  }\n\n  // Format quiz response timestamps\n  if (formattedData.quizResponses && Array.isArray(formattedData.quizResponses)) {\n    formattedData.quizResponses = formattedData.quizResponses.map(response => ({\n      ...response,\n      timestampJST: formatToJST(response.timestamp)\n    }));\n  }\n\n  // Format sensor data timestamps\n  if (formattedData.sensorData && Array.isArray(formattedData.sensorData)) {\n    formattedData.sensorData = formattedData.sensorData.map(data => ({\n      ...data,\n      timestampJST: formatToJST(data.timestamp)\n    }));\n  }\n\n  return formattedData;\n};\n\n/**\n * Generate Japanese datetime filename with session number\n * @param {number} timestamp - Unix timestamp in milliseconds\n * @param {string} sessionId - Session ID\n * @returns {string} - Filename in format: YYYY年MM月DD日_HH時MM分SS秒_sessionNo\n */\nexport const generateJapaneseDatetimeFilename = (timestamp, sessionId) => {\n  if (!timestamp || typeof timestamp !== 'number') {\n    return `session_${new Date().getTime()}`;\n  }\n\n  const date = new Date(timestamp);\n\n  // Convert to JST\n  const jstDate = new Date(date.toLocaleString('ja-JP', { timeZone: 'Asia/Tokyo' }));\n\n  const year = jstDate.getFullYear();\n  const month = String(jstDate.getMonth() + 1).padStart(2, '0');\n  const day = String(jstDate.getDate()).padStart(2, '0');\n  const hours = String(jstDate.getHours()).padStart(2, '0');\n  const minutes = String(jstDate.getMinutes()).padStart(2, '0');\n  const seconds = String(jstDate.getSeconds()).padStart(2, '0');\n\n  // Extract session number from session ID (format: session_timestamp_random)\n  const sessionNumber = sessionId ? sessionId.split('_')[1] : new Date().getTime();\n\n  // Format: YYYY年MM月DD日_HH時MM分SS秒_sessionNo\n  return `${year}年${month}月${day}日_${hours}時${minutes}分${seconds}秒_${sessionNumber}`;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}