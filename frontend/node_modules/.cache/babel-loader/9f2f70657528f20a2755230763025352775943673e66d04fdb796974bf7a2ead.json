{"ast":null,"code":"/* eslint-disable babylonjs/available */\n// eslint-disable-next-line @typescript-eslint/naming-convention\nimport * as WebGPUConstants from \"./webgpuConstants.js\";\nimport { Scalar } from \"../../Maths/math.scalar.js\";\n\n/** @internal */\nexport class WebGPUTextureHelper {\n  static ComputeNumMipmapLevels(width, height) {\n    return Scalar.ILog2(Math.max(width, height)) + 1;\n  }\n  static GetTextureTypeFromFormat(format) {\n    switch (format) {\n      // One Component = 8 bits\n      case WebGPUConstants.TextureFormat.R8Unorm:\n      case WebGPUConstants.TextureFormat.R8Snorm:\n      case WebGPUConstants.TextureFormat.R8Uint:\n      case WebGPUConstants.TextureFormat.R8Sint:\n      case WebGPUConstants.TextureFormat.RG8Unorm:\n      case WebGPUConstants.TextureFormat.RG8Snorm:\n      case WebGPUConstants.TextureFormat.RG8Uint:\n      case WebGPUConstants.TextureFormat.RG8Sint:\n      case WebGPUConstants.TextureFormat.RGBA8Unorm:\n      case WebGPUConstants.TextureFormat.RGBA8UnormSRGB:\n      case WebGPUConstants.TextureFormat.RGBA8Snorm:\n      case WebGPUConstants.TextureFormat.RGBA8Uint:\n      case WebGPUConstants.TextureFormat.RGBA8Sint:\n      case WebGPUConstants.TextureFormat.BGRA8Unorm:\n      case WebGPUConstants.TextureFormat.BGRA8UnormSRGB:\n      case WebGPUConstants.TextureFormat.RGB10A2UINT: // composite format - let's say it's byte...\n      case WebGPUConstants.TextureFormat.RGB10A2Unorm: // composite format - let's say it's byte...\n      case WebGPUConstants.TextureFormat.RGB9E5UFloat: // composite format - let's say it's byte...\n      case WebGPUConstants.TextureFormat.RG11B10UFloat: // composite format - let's say it's byte...\n      case WebGPUConstants.TextureFormat.BC7RGBAUnorm:\n      case WebGPUConstants.TextureFormat.BC7RGBAUnormSRGB:\n      case WebGPUConstants.TextureFormat.BC6HRGBUFloat:\n      case WebGPUConstants.TextureFormat.BC6HRGBFloat:\n      case WebGPUConstants.TextureFormat.BC5RGUnorm:\n      case WebGPUConstants.TextureFormat.BC5RGSnorm:\n      case WebGPUConstants.TextureFormat.BC3RGBAUnorm:\n      case WebGPUConstants.TextureFormat.BC3RGBAUnormSRGB:\n      case WebGPUConstants.TextureFormat.BC2RGBAUnorm:\n      case WebGPUConstants.TextureFormat.BC2RGBAUnormSRGB:\n      case WebGPUConstants.TextureFormat.BC4RUnorm:\n      case WebGPUConstants.TextureFormat.BC4RSnorm:\n      case WebGPUConstants.TextureFormat.BC1RGBAUnorm:\n      case WebGPUConstants.TextureFormat.BC1RGBAUnormSRGB:\n      case WebGPUConstants.TextureFormat.ETC2RGB8Unorm:\n      case WebGPUConstants.TextureFormat.ETC2RGB8UnormSRGB:\n      case WebGPUConstants.TextureFormat.ETC2RGB8A1Unorm:\n      case WebGPUConstants.TextureFormat.ETC2RGB8A1UnormSRGB:\n      case WebGPUConstants.TextureFormat.ETC2RGBA8Unorm:\n      case WebGPUConstants.TextureFormat.ETC2RGBA8UnormSRGB:\n      case WebGPUConstants.TextureFormat.EACR11Unorm:\n      case WebGPUConstants.TextureFormat.EACR11Snorm:\n      case WebGPUConstants.TextureFormat.EACRG11Unorm:\n      case WebGPUConstants.TextureFormat.EACRG11Snorm:\n      case WebGPUConstants.TextureFormat.ASTC4x4Unorm:\n      case WebGPUConstants.TextureFormat.ASTC4x4UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC5x4Unorm:\n      case WebGPUConstants.TextureFormat.ASTC5x4UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC5x5Unorm:\n      case WebGPUConstants.TextureFormat.ASTC5x5UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC6x5Unorm:\n      case WebGPUConstants.TextureFormat.ASTC6x5UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC6x6Unorm:\n      case WebGPUConstants.TextureFormat.ASTC6x6UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC8x5Unorm:\n      case WebGPUConstants.TextureFormat.ASTC8x5UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC8x6Unorm:\n      case WebGPUConstants.TextureFormat.ASTC8x6UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC8x8Unorm:\n      case WebGPUConstants.TextureFormat.ASTC8x8UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC10x5Unorm:\n      case WebGPUConstants.TextureFormat.ASTC10x5UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC10x6Unorm:\n      case WebGPUConstants.TextureFormat.ASTC10x6UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC10x8Unorm:\n      case WebGPUConstants.TextureFormat.ASTC10x8UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC10x10Unorm:\n      case WebGPUConstants.TextureFormat.ASTC10x10UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC12x10Unorm:\n      case WebGPUConstants.TextureFormat.ASTC12x10UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC12x12Unorm:\n      case WebGPUConstants.TextureFormat.ASTC12x12UnormSRGB:\n      case WebGPUConstants.TextureFormat.Stencil8:\n        return 0;\n      // One component = 16 bits\n      case WebGPUConstants.TextureFormat.R16Uint:\n      case WebGPUConstants.TextureFormat.R16Sint:\n      case WebGPUConstants.TextureFormat.RG16Uint:\n      case WebGPUConstants.TextureFormat.RG16Sint:\n      case WebGPUConstants.TextureFormat.RGBA16Uint:\n      case WebGPUConstants.TextureFormat.RGBA16Sint:\n      case WebGPUConstants.TextureFormat.Depth16Unorm:\n        return 5;\n      case WebGPUConstants.TextureFormat.R16Float:\n      case WebGPUConstants.TextureFormat.RG16Float:\n      case WebGPUConstants.TextureFormat.RGBA16Float:\n        return 2;\n      // One component = 32 bits\n      case WebGPUConstants.TextureFormat.R32Uint:\n      case WebGPUConstants.TextureFormat.R32Sint:\n      case WebGPUConstants.TextureFormat.RG32Uint:\n      case WebGPUConstants.TextureFormat.RG32Sint:\n      case WebGPUConstants.TextureFormat.RGBA32Uint:\n      case WebGPUConstants.TextureFormat.RGBA32Sint:\n        return 7;\n      case WebGPUConstants.TextureFormat.R32Float:\n      case WebGPUConstants.TextureFormat.RG32Float:\n      case WebGPUConstants.TextureFormat.RGBA32Float:\n      case WebGPUConstants.TextureFormat.Depth32Float:\n      case WebGPUConstants.TextureFormat.Depth32FloatStencil8:\n      case WebGPUConstants.TextureFormat.Depth24Plus:\n      case WebGPUConstants.TextureFormat.Depth24PlusStencil8:\n        return 1;\n    }\n    return 0;\n  }\n  static GetBlockInformationFromFormat(format) {\n    switch (format) {\n      // 8 bits formats\n      case WebGPUConstants.TextureFormat.R8Unorm:\n      case WebGPUConstants.TextureFormat.R8Snorm:\n      case WebGPUConstants.TextureFormat.R8Uint:\n      case WebGPUConstants.TextureFormat.R8Sint:\n        return {\n          width: 1,\n          height: 1,\n          length: 1\n        };\n      // 16 bits formats\n      case WebGPUConstants.TextureFormat.R16Uint:\n      case WebGPUConstants.TextureFormat.R16Sint:\n      case WebGPUConstants.TextureFormat.R16Float:\n      case WebGPUConstants.TextureFormat.RG8Unorm:\n      case WebGPUConstants.TextureFormat.RG8Snorm:\n      case WebGPUConstants.TextureFormat.RG8Uint:\n      case WebGPUConstants.TextureFormat.RG8Sint:\n        return {\n          width: 1,\n          height: 1,\n          length: 2\n        };\n      // 32 bits formats\n      case WebGPUConstants.TextureFormat.R32Uint:\n      case WebGPUConstants.TextureFormat.R32Sint:\n      case WebGPUConstants.TextureFormat.R32Float:\n      case WebGPUConstants.TextureFormat.RG16Uint:\n      case WebGPUConstants.TextureFormat.RG16Sint:\n      case WebGPUConstants.TextureFormat.RG16Float:\n      case WebGPUConstants.TextureFormat.RGBA8Unorm:\n      case WebGPUConstants.TextureFormat.RGBA8UnormSRGB:\n      case WebGPUConstants.TextureFormat.RGBA8Snorm:\n      case WebGPUConstants.TextureFormat.RGBA8Uint:\n      case WebGPUConstants.TextureFormat.RGBA8Sint:\n      case WebGPUConstants.TextureFormat.BGRA8Unorm:\n      case WebGPUConstants.TextureFormat.BGRA8UnormSRGB:\n      case WebGPUConstants.TextureFormat.RGB9E5UFloat:\n      case WebGPUConstants.TextureFormat.RGB10A2UINT:\n      case WebGPUConstants.TextureFormat.RGB10A2Unorm:\n      case WebGPUConstants.TextureFormat.RG11B10UFloat:\n        return {\n          width: 1,\n          height: 1,\n          length: 4\n        };\n      // 64 bits formats\n      case WebGPUConstants.TextureFormat.RG32Uint:\n      case WebGPUConstants.TextureFormat.RG32Sint:\n      case WebGPUConstants.TextureFormat.RG32Float:\n      case WebGPUConstants.TextureFormat.RGBA16Uint:\n      case WebGPUConstants.TextureFormat.RGBA16Sint:\n      case WebGPUConstants.TextureFormat.RGBA16Float:\n        return {\n          width: 1,\n          height: 1,\n          length: 8\n        };\n      // 128 bits formats\n      case WebGPUConstants.TextureFormat.RGBA32Uint:\n      case WebGPUConstants.TextureFormat.RGBA32Sint:\n      case WebGPUConstants.TextureFormat.RGBA32Float:\n        return {\n          width: 1,\n          height: 1,\n          length: 16\n        };\n      // Depth and stencil formats\n      case WebGPUConstants.TextureFormat.Stencil8:\n        // eslint-disable-next-line no-throw-literal\n        throw \"No fixed size for Stencil8 format!\";\n      case WebGPUConstants.TextureFormat.Depth16Unorm:\n        return {\n          width: 1,\n          height: 1,\n          length: 2\n        };\n      case WebGPUConstants.TextureFormat.Depth24Plus:\n        // eslint-disable-next-line no-throw-literal\n        throw \"No fixed size for Depth24Plus format!\";\n      case WebGPUConstants.TextureFormat.Depth24PlusStencil8:\n        // eslint-disable-next-line no-throw-literal\n        throw \"No fixed size for Depth24PlusStencil8 format!\";\n      case WebGPUConstants.TextureFormat.Depth32Float:\n        return {\n          width: 1,\n          height: 1,\n          length: 4\n        };\n      case WebGPUConstants.TextureFormat.Depth32FloatStencil8:\n        return {\n          width: 1,\n          height: 1,\n          length: 5\n        };\n      // BC compressed formats usable if \"texture-compression-bc\" is both\n      // supported by the device/user agent and enabled in requestDevice.\n      case WebGPUConstants.TextureFormat.BC7RGBAUnorm:\n      case WebGPUConstants.TextureFormat.BC7RGBAUnormSRGB:\n      case WebGPUConstants.TextureFormat.BC6HRGBUFloat:\n      case WebGPUConstants.TextureFormat.BC6HRGBFloat:\n      case WebGPUConstants.TextureFormat.BC5RGUnorm:\n      case WebGPUConstants.TextureFormat.BC5RGSnorm:\n      case WebGPUConstants.TextureFormat.BC3RGBAUnorm:\n      case WebGPUConstants.TextureFormat.BC3RGBAUnormSRGB:\n      case WebGPUConstants.TextureFormat.BC2RGBAUnorm:\n      case WebGPUConstants.TextureFormat.BC2RGBAUnormSRGB:\n        return {\n          width: 4,\n          height: 4,\n          length: 16\n        };\n      case WebGPUConstants.TextureFormat.BC4RUnorm:\n      case WebGPUConstants.TextureFormat.BC4RSnorm:\n      case WebGPUConstants.TextureFormat.BC1RGBAUnorm:\n      case WebGPUConstants.TextureFormat.BC1RGBAUnormSRGB:\n        return {\n          width: 4,\n          height: 4,\n          length: 8\n        };\n      // ETC2 compressed formats usable if \"texture-compression-etc2\" is both\n      // supported by the device/user agent and enabled in requestDevice.\n      case WebGPUConstants.TextureFormat.ETC2RGB8Unorm:\n      case WebGPUConstants.TextureFormat.ETC2RGB8UnormSRGB:\n      case WebGPUConstants.TextureFormat.ETC2RGB8A1Unorm:\n      case WebGPUConstants.TextureFormat.ETC2RGB8A1UnormSRGB:\n      case WebGPUConstants.TextureFormat.EACR11Unorm:\n      case WebGPUConstants.TextureFormat.EACR11Snorm:\n        return {\n          width: 4,\n          height: 4,\n          length: 8\n        };\n      case WebGPUConstants.TextureFormat.ETC2RGBA8Unorm:\n      case WebGPUConstants.TextureFormat.ETC2RGBA8UnormSRGB:\n      case WebGPUConstants.TextureFormat.EACRG11Unorm:\n      case WebGPUConstants.TextureFormat.EACRG11Snorm:\n        return {\n          width: 4,\n          height: 4,\n          length: 16\n        };\n      // ASTC compressed formats usable if \"texture-compression-astc\" is both\n      // supported by the device/user agent and enabled in requestDevice.\n      case WebGPUConstants.TextureFormat.ASTC4x4Unorm:\n      case WebGPUConstants.TextureFormat.ASTC4x4UnormSRGB:\n        return {\n          width: 4,\n          height: 4,\n          length: 16\n        };\n      case WebGPUConstants.TextureFormat.ASTC5x4Unorm:\n      case WebGPUConstants.TextureFormat.ASTC5x4UnormSRGB:\n        return {\n          width: 5,\n          height: 4,\n          length: 16\n        };\n      case WebGPUConstants.TextureFormat.ASTC5x5Unorm:\n      case WebGPUConstants.TextureFormat.ASTC5x5UnormSRGB:\n        return {\n          width: 5,\n          height: 5,\n          length: 16\n        };\n      case WebGPUConstants.TextureFormat.ASTC6x5Unorm:\n      case WebGPUConstants.TextureFormat.ASTC6x5UnormSRGB:\n        return {\n          width: 6,\n          height: 5,\n          length: 16\n        };\n      case WebGPUConstants.TextureFormat.ASTC6x6Unorm:\n      case WebGPUConstants.TextureFormat.ASTC6x6UnormSRGB:\n        return {\n          width: 6,\n          height: 6,\n          length: 16\n        };\n      case WebGPUConstants.TextureFormat.ASTC8x5Unorm:\n      case WebGPUConstants.TextureFormat.ASTC8x5UnormSRGB:\n        return {\n          width: 8,\n          height: 5,\n          length: 16\n        };\n      case WebGPUConstants.TextureFormat.ASTC8x6Unorm:\n      case WebGPUConstants.TextureFormat.ASTC8x6UnormSRGB:\n        return {\n          width: 8,\n          height: 6,\n          length: 16\n        };\n      case WebGPUConstants.TextureFormat.ASTC8x8Unorm:\n      case WebGPUConstants.TextureFormat.ASTC8x8UnormSRGB:\n        return {\n          width: 8,\n          height: 8,\n          length: 16\n        };\n      case WebGPUConstants.TextureFormat.ASTC10x5Unorm:\n      case WebGPUConstants.TextureFormat.ASTC10x5UnormSRGB:\n        return {\n          width: 10,\n          height: 5,\n          length: 16\n        };\n      case WebGPUConstants.TextureFormat.ASTC10x6Unorm:\n      case WebGPUConstants.TextureFormat.ASTC10x6UnormSRGB:\n        return {\n          width: 10,\n          height: 6,\n          length: 16\n        };\n      case WebGPUConstants.TextureFormat.ASTC10x8Unorm:\n      case WebGPUConstants.TextureFormat.ASTC10x8UnormSRGB:\n        return {\n          width: 10,\n          height: 8,\n          length: 16\n        };\n      case WebGPUConstants.TextureFormat.ASTC10x10Unorm:\n      case WebGPUConstants.TextureFormat.ASTC10x10UnormSRGB:\n        return {\n          width: 10,\n          height: 10,\n          length: 16\n        };\n      case WebGPUConstants.TextureFormat.ASTC12x10Unorm:\n      case WebGPUConstants.TextureFormat.ASTC12x10UnormSRGB:\n        return {\n          width: 12,\n          height: 10,\n          length: 16\n        };\n      case WebGPUConstants.TextureFormat.ASTC12x12Unorm:\n      case WebGPUConstants.TextureFormat.ASTC12x12UnormSRGB:\n        return {\n          width: 12,\n          height: 12,\n          length: 16\n        };\n    }\n    return {\n      width: 1,\n      height: 1,\n      length: 4\n    };\n  }\n  static IsHardwareTexture(texture) {\n    return !!texture.release;\n  }\n  static IsInternalTexture(texture) {\n    return !!texture.dispose;\n  }\n  static IsImageBitmap(imageBitmap) {\n    return imageBitmap.close !== undefined;\n  }\n  static IsImageBitmapArray(imageBitmap) {\n    return Array.isArray(imageBitmap) && imageBitmap[0].close !== undefined;\n  }\n  static IsCompressedFormat(format) {\n    switch (format) {\n      case WebGPUConstants.TextureFormat.BC7RGBAUnormSRGB:\n      case WebGPUConstants.TextureFormat.BC7RGBAUnorm:\n      case WebGPUConstants.TextureFormat.BC6HRGBFloat:\n      case WebGPUConstants.TextureFormat.BC6HRGBUFloat:\n      case WebGPUConstants.TextureFormat.BC5RGSnorm:\n      case WebGPUConstants.TextureFormat.BC5RGUnorm:\n      case WebGPUConstants.TextureFormat.BC4RSnorm:\n      case WebGPUConstants.TextureFormat.BC4RUnorm:\n      case WebGPUConstants.TextureFormat.BC3RGBAUnormSRGB:\n      case WebGPUConstants.TextureFormat.BC3RGBAUnorm:\n      case WebGPUConstants.TextureFormat.BC2RGBAUnormSRGB:\n      case WebGPUConstants.TextureFormat.BC2RGBAUnorm:\n      case WebGPUConstants.TextureFormat.BC1RGBAUnormSRGB:\n      case WebGPUConstants.TextureFormat.BC1RGBAUnorm:\n      case WebGPUConstants.TextureFormat.ETC2RGB8Unorm:\n      case WebGPUConstants.TextureFormat.ETC2RGB8UnormSRGB:\n      case WebGPUConstants.TextureFormat.ETC2RGB8A1Unorm:\n      case WebGPUConstants.TextureFormat.ETC2RGB8A1UnormSRGB:\n      case WebGPUConstants.TextureFormat.ETC2RGBA8Unorm:\n      case WebGPUConstants.TextureFormat.ETC2RGBA8UnormSRGB:\n      case WebGPUConstants.TextureFormat.EACR11Unorm:\n      case WebGPUConstants.TextureFormat.EACR11Snorm:\n      case WebGPUConstants.TextureFormat.EACRG11Unorm:\n      case WebGPUConstants.TextureFormat.EACRG11Snorm:\n      case WebGPUConstants.TextureFormat.ASTC4x4Unorm:\n      case WebGPUConstants.TextureFormat.ASTC4x4UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC5x4Unorm:\n      case WebGPUConstants.TextureFormat.ASTC5x4UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC5x5Unorm:\n      case WebGPUConstants.TextureFormat.ASTC5x5UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC6x5Unorm:\n      case WebGPUConstants.TextureFormat.ASTC6x5UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC6x6Unorm:\n      case WebGPUConstants.TextureFormat.ASTC6x6UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC8x5Unorm:\n      case WebGPUConstants.TextureFormat.ASTC8x5UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC8x6Unorm:\n      case WebGPUConstants.TextureFormat.ASTC8x6UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC8x8Unorm:\n      case WebGPUConstants.TextureFormat.ASTC8x8UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC10x5Unorm:\n      case WebGPUConstants.TextureFormat.ASTC10x5UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC10x6Unorm:\n      case WebGPUConstants.TextureFormat.ASTC10x6UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC10x8Unorm:\n      case WebGPUConstants.TextureFormat.ASTC10x8UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC10x10Unorm:\n      case WebGPUConstants.TextureFormat.ASTC10x10UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC12x10Unorm:\n      case WebGPUConstants.TextureFormat.ASTC12x10UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC12x12Unorm:\n      case WebGPUConstants.TextureFormat.ASTC12x12UnormSRGB:\n        return true;\n    }\n    return false;\n  }\n  static GetWebGPUTextureFormat(type, format, useSRGBBuffer = false) {\n    switch (format) {\n      case 15:\n        return WebGPUConstants.TextureFormat.Depth16Unorm;\n      case 16:\n        return WebGPUConstants.TextureFormat.Depth24Plus;\n      case 13:\n        return WebGPUConstants.TextureFormat.Depth24PlusStencil8;\n      case 14:\n        return WebGPUConstants.TextureFormat.Depth32Float;\n      case 18:\n        return WebGPUConstants.TextureFormat.Depth32FloatStencil8;\n      case 19:\n        return WebGPUConstants.TextureFormat.Stencil8;\n      case 36492:\n        return useSRGBBuffer ? WebGPUConstants.TextureFormat.BC7RGBAUnormSRGB : WebGPUConstants.TextureFormat.BC7RGBAUnorm;\n      case 36495:\n        return WebGPUConstants.TextureFormat.BC6HRGBUFloat;\n      case 36494:\n        return WebGPUConstants.TextureFormat.BC6HRGBFloat;\n      case 33779:\n        return useSRGBBuffer ? WebGPUConstants.TextureFormat.BC3RGBAUnormSRGB : WebGPUConstants.TextureFormat.BC3RGBAUnorm;\n      case 33778:\n        return useSRGBBuffer ? WebGPUConstants.TextureFormat.BC2RGBAUnormSRGB : WebGPUConstants.TextureFormat.BC2RGBAUnorm;\n      case 33777:\n      case 33776:\n        return useSRGBBuffer ? WebGPUConstants.TextureFormat.BC1RGBAUnormSRGB : WebGPUConstants.TextureFormat.BC1RGBAUnorm;\n      case 37808:\n        return useSRGBBuffer ? WebGPUConstants.TextureFormat.ASTC4x4UnormSRGB : WebGPUConstants.TextureFormat.ASTC4x4Unorm;\n      case 36196:\n      case 37492:\n        return useSRGBBuffer ? WebGPUConstants.TextureFormat.ETC2RGB8UnormSRGB : WebGPUConstants.TextureFormat.ETC2RGB8Unorm;\n      case 37496:\n        return useSRGBBuffer ? WebGPUConstants.TextureFormat.ETC2RGBA8UnormSRGB : WebGPUConstants.TextureFormat.ETC2RGBA8Unorm;\n    }\n    switch (type) {\n      case 3:\n        switch (format) {\n          case 6:\n            return WebGPUConstants.TextureFormat.R8Snorm;\n          case 7:\n            return WebGPUConstants.TextureFormat.RG8Snorm;\n          case 4:\n            // eslint-disable-next-line no-throw-literal\n            throw \"RGB format not supported in WebGPU\";\n          case 8:\n            return WebGPUConstants.TextureFormat.R8Sint;\n          case 9:\n            return WebGPUConstants.TextureFormat.RG8Sint;\n          case 10:\n            // eslint-disable-next-line no-throw-literal\n            throw \"RGB_INTEGER format not supported in WebGPU\";\n          case 11:\n            return WebGPUConstants.TextureFormat.RGBA8Sint;\n          default:\n            return WebGPUConstants.TextureFormat.RGBA8Snorm;\n        }\n      case 0:\n        switch (format) {\n          case 6:\n            return WebGPUConstants.TextureFormat.R8Unorm;\n          case 7:\n            return WebGPUConstants.TextureFormat.RG8Unorm;\n          case 4:\n            // eslint-disable-next-line no-throw-literal\n            throw \"TEXTUREFORMAT_RGB format not supported in WebGPU\";\n          case 5:\n            return useSRGBBuffer ? WebGPUConstants.TextureFormat.RGBA8UnormSRGB : WebGPUConstants.TextureFormat.RGBA8Unorm;\n          case 12:\n            return useSRGBBuffer ? WebGPUConstants.TextureFormat.BGRA8UnormSRGB : WebGPUConstants.TextureFormat.BGRA8Unorm;\n          case 8:\n            return WebGPUConstants.TextureFormat.R8Uint;\n          case 9:\n            return WebGPUConstants.TextureFormat.RG8Uint;\n          case 10:\n            // eslint-disable-next-line no-throw-literal\n            throw \"RGB_INTEGER format not supported in WebGPU\";\n          case 11:\n            return WebGPUConstants.TextureFormat.RGBA8Uint;\n          case 0:\n            // eslint-disable-next-line no-throw-literal\n            throw \"TEXTUREFORMAT_ALPHA format not supported in WebGPU\";\n          case 1:\n            // eslint-disable-next-line no-throw-literal\n            throw \"TEXTUREFORMAT_LUMINANCE format not supported in WebGPU\";\n          case 2:\n            // eslint-disable-next-line no-throw-literal\n            throw \"TEXTUREFORMAT_LUMINANCE_ALPHA format not supported in WebGPU\";\n          default:\n            return WebGPUConstants.TextureFormat.RGBA8Unorm;\n        }\n      case 4:\n        switch (format) {\n          case 8:\n            return WebGPUConstants.TextureFormat.R16Sint;\n          case 9:\n            return WebGPUConstants.TextureFormat.RG16Sint;\n          case 10:\n            // eslint-disable-next-line no-throw-literal\n            throw \"TEXTUREFORMAT_RGB_INTEGER format not supported in WebGPU\";\n          case 11:\n            return WebGPUConstants.TextureFormat.RGBA16Sint;\n          default:\n            return WebGPUConstants.TextureFormat.RGBA16Sint;\n        }\n      case 5:\n        switch (format) {\n          case 8:\n            return WebGPUConstants.TextureFormat.R16Uint;\n          case 9:\n            return WebGPUConstants.TextureFormat.RG16Uint;\n          case 10:\n            // eslint-disable-next-line no-throw-literal\n            throw \"TEXTUREFORMAT_RGB_INTEGER format not supported in WebGPU\";\n          case 11:\n            return WebGPUConstants.TextureFormat.RGBA16Uint;\n          default:\n            return WebGPUConstants.TextureFormat.RGBA16Uint;\n        }\n      case 6:\n        switch (format) {\n          case 8:\n            return WebGPUConstants.TextureFormat.R32Sint;\n          case 9:\n            return WebGPUConstants.TextureFormat.RG32Sint;\n          case 10:\n            // eslint-disable-next-line no-throw-literal\n            throw \"TEXTUREFORMAT_RGB_INTEGER format not supported in WebGPU\";\n          case 11:\n            return WebGPUConstants.TextureFormat.RGBA32Sint;\n          default:\n            return WebGPUConstants.TextureFormat.RGBA32Sint;\n        }\n      case 7:\n        // Refers to UNSIGNED_INT\n        switch (format) {\n          case 8:\n            return WebGPUConstants.TextureFormat.R32Uint;\n          case 9:\n            return WebGPUConstants.TextureFormat.RG32Uint;\n          case 10:\n            // eslint-disable-next-line no-throw-literal\n            throw \"TEXTUREFORMAT_RGB_INTEGER format not supported in WebGPU\";\n          case 11:\n            return WebGPUConstants.TextureFormat.RGBA32Uint;\n          default:\n            return WebGPUConstants.TextureFormat.RGBA32Uint;\n        }\n      case 1:\n        switch (format) {\n          case 6:\n            return WebGPUConstants.TextureFormat.R32Float;\n          // By default. Other possibility is R16Float.\n          case 7:\n            return WebGPUConstants.TextureFormat.RG32Float;\n          // By default. Other possibility is RG16Float.\n          case 4:\n            // eslint-disable-next-line no-throw-literal\n            throw \"TEXTUREFORMAT_RGB format not supported in WebGPU\";\n          case 5:\n            return WebGPUConstants.TextureFormat.RGBA32Float;\n          // By default. Other possibility is RGBA16Float.\n          default:\n            return WebGPUConstants.TextureFormat.RGBA32Float;\n        }\n      case 2:\n        switch (format) {\n          case 6:\n            return WebGPUConstants.TextureFormat.R16Float;\n          case 7:\n            return WebGPUConstants.TextureFormat.RG16Float;\n          case 4:\n            // eslint-disable-next-line no-throw-literal\n            throw \"TEXTUREFORMAT_RGB format not supported in WebGPU\";\n          case 5:\n            return WebGPUConstants.TextureFormat.RGBA16Float;\n          default:\n            return WebGPUConstants.TextureFormat.RGBA16Float;\n        }\n      case 10:\n        // eslint-disable-next-line no-throw-literal\n        throw \"TEXTURETYPE_UNSIGNED_SHORT_5_6_5 format not supported in WebGPU\";\n      case 13:\n        switch (format) {\n          case 5:\n            return WebGPUConstants.TextureFormat.RG11B10UFloat;\n          case 11:\n            // eslint-disable-next-line no-throw-literal\n            throw \"TEXTUREFORMAT_RGBA_INTEGER format not supported in WebGPU when type is TEXTURETYPE_UNSIGNED_INT_10F_11F_11F_REV\";\n          default:\n            return WebGPUConstants.TextureFormat.RG11B10UFloat;\n        }\n      case 14:\n        switch (format) {\n          case 5:\n            return WebGPUConstants.TextureFormat.RGB9E5UFloat;\n          case 11:\n            // eslint-disable-next-line no-throw-literal\n            throw \"TEXTUREFORMAT_RGBA_INTEGER format not supported in WebGPU when type is TEXTURETYPE_UNSIGNED_INT_5_9_9_9_REV\";\n          default:\n            return WebGPUConstants.TextureFormat.RGB9E5UFloat;\n        }\n      case 8:\n        // eslint-disable-next-line no-throw-literal\n        throw \"TEXTURETYPE_UNSIGNED_SHORT_4_4_4_4 format not supported in WebGPU\";\n      case 9:\n        // eslint-disable-next-line no-throw-literal\n        throw \"TEXTURETYPE_UNSIGNED_SHORT_5_5_5_1 format not supported in WebGPU\";\n      case 11:\n        switch (format) {\n          case 5:\n            return WebGPUConstants.TextureFormat.RGB10A2Unorm;\n          case 11:\n            return WebGPUConstants.TextureFormat.RGB10A2UINT;\n          default:\n            return WebGPUConstants.TextureFormat.RGB10A2Unorm;\n        }\n    }\n    return useSRGBBuffer ? WebGPUConstants.TextureFormat.RGBA8UnormSRGB : WebGPUConstants.TextureFormat.RGBA8Unorm;\n  }\n  static GetNumChannelsFromWebGPUTextureFormat(format) {\n    switch (format) {\n      case WebGPUConstants.TextureFormat.R8Unorm:\n      case WebGPUConstants.TextureFormat.R8Snorm:\n      case WebGPUConstants.TextureFormat.R8Uint:\n      case WebGPUConstants.TextureFormat.R8Sint:\n      case WebGPUConstants.TextureFormat.BC4RUnorm:\n      case WebGPUConstants.TextureFormat.BC4RSnorm:\n      case WebGPUConstants.TextureFormat.R16Uint:\n      case WebGPUConstants.TextureFormat.R16Sint:\n      case WebGPUConstants.TextureFormat.Depth16Unorm:\n      case WebGPUConstants.TextureFormat.R16Float:\n      case WebGPUConstants.TextureFormat.R32Uint:\n      case WebGPUConstants.TextureFormat.R32Sint:\n      case WebGPUConstants.TextureFormat.R32Float:\n      case WebGPUConstants.TextureFormat.Depth32Float:\n      case WebGPUConstants.TextureFormat.Stencil8:\n      case WebGPUConstants.TextureFormat.Depth24Plus:\n      case WebGPUConstants.TextureFormat.EACR11Unorm:\n      case WebGPUConstants.TextureFormat.EACR11Snorm:\n        return 1;\n      case WebGPUConstants.TextureFormat.RG8Unorm:\n      case WebGPUConstants.TextureFormat.RG8Snorm:\n      case WebGPUConstants.TextureFormat.RG8Uint:\n      case WebGPUConstants.TextureFormat.RG8Sint:\n      case WebGPUConstants.TextureFormat.Depth32FloatStencil8:\n      case WebGPUConstants.TextureFormat.BC5RGUnorm:\n      case WebGPUConstants.TextureFormat.BC5RGSnorm:\n      case WebGPUConstants.TextureFormat.RG16Uint:\n      case WebGPUConstants.TextureFormat.RG16Sint:\n      case WebGPUConstants.TextureFormat.RG16Float:\n      case WebGPUConstants.TextureFormat.RG32Uint:\n      case WebGPUConstants.TextureFormat.RG32Sint:\n      case WebGPUConstants.TextureFormat.RG32Float:\n      case WebGPUConstants.TextureFormat.Depth24PlusStencil8:\n      case WebGPUConstants.TextureFormat.EACRG11Unorm:\n      case WebGPUConstants.TextureFormat.EACRG11Snorm:\n        return 2;\n      case WebGPUConstants.TextureFormat.RGB9E5UFloat:\n      case WebGPUConstants.TextureFormat.RG11B10UFloat:\n      case WebGPUConstants.TextureFormat.BC6HRGBUFloat:\n      case WebGPUConstants.TextureFormat.BC6HRGBFloat:\n      case WebGPUConstants.TextureFormat.ETC2RGB8Unorm:\n      case WebGPUConstants.TextureFormat.ETC2RGB8UnormSRGB:\n        return 3;\n      case WebGPUConstants.TextureFormat.RGBA8Unorm:\n      case WebGPUConstants.TextureFormat.RGBA8UnormSRGB:\n      case WebGPUConstants.TextureFormat.RGBA8Snorm:\n      case WebGPUConstants.TextureFormat.RGBA8Uint:\n      case WebGPUConstants.TextureFormat.RGBA8Sint:\n      case WebGPUConstants.TextureFormat.BGRA8Unorm:\n      case WebGPUConstants.TextureFormat.BGRA8UnormSRGB:\n      case WebGPUConstants.TextureFormat.RGB10A2UINT:\n      case WebGPUConstants.TextureFormat.RGB10A2Unorm:\n      case WebGPUConstants.TextureFormat.BC7RGBAUnorm:\n      case WebGPUConstants.TextureFormat.BC7RGBAUnormSRGB:\n      case WebGPUConstants.TextureFormat.BC3RGBAUnorm:\n      case WebGPUConstants.TextureFormat.BC3RGBAUnormSRGB:\n      case WebGPUConstants.TextureFormat.BC2RGBAUnorm:\n      case WebGPUConstants.TextureFormat.BC2RGBAUnormSRGB:\n      case WebGPUConstants.TextureFormat.BC1RGBAUnorm:\n      case WebGPUConstants.TextureFormat.BC1RGBAUnormSRGB:\n      case WebGPUConstants.TextureFormat.RGBA16Uint:\n      case WebGPUConstants.TextureFormat.RGBA16Sint:\n      case WebGPUConstants.TextureFormat.RGBA16Float:\n      case WebGPUConstants.TextureFormat.RGBA32Uint:\n      case WebGPUConstants.TextureFormat.RGBA32Sint:\n      case WebGPUConstants.TextureFormat.RGBA32Float:\n      case WebGPUConstants.TextureFormat.ETC2RGB8A1Unorm:\n      case WebGPUConstants.TextureFormat.ETC2RGB8A1UnormSRGB:\n      case WebGPUConstants.TextureFormat.ETC2RGBA8Unorm:\n      case WebGPUConstants.TextureFormat.ETC2RGBA8UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC4x4Unorm:\n      case WebGPUConstants.TextureFormat.ASTC4x4UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC5x4Unorm:\n      case WebGPUConstants.TextureFormat.ASTC5x4UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC5x5Unorm:\n      case WebGPUConstants.TextureFormat.ASTC5x5UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC6x5Unorm:\n      case WebGPUConstants.TextureFormat.ASTC6x5UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC6x6Unorm:\n      case WebGPUConstants.TextureFormat.ASTC6x6UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC8x5Unorm:\n      case WebGPUConstants.TextureFormat.ASTC8x5UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC8x6Unorm:\n      case WebGPUConstants.TextureFormat.ASTC8x6UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC8x8Unorm:\n      case WebGPUConstants.TextureFormat.ASTC8x8UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC10x5Unorm:\n      case WebGPUConstants.TextureFormat.ASTC10x5UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC10x6Unorm:\n      case WebGPUConstants.TextureFormat.ASTC10x6UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC10x8Unorm:\n      case WebGPUConstants.TextureFormat.ASTC10x8UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC10x10Unorm:\n      case WebGPUConstants.TextureFormat.ASTC10x10UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC12x10Unorm:\n      case WebGPUConstants.TextureFormat.ASTC12x10UnormSRGB:\n      case WebGPUConstants.TextureFormat.ASTC12x12Unorm:\n      case WebGPUConstants.TextureFormat.ASTC12x12UnormSRGB:\n        return 4;\n    }\n    // eslint-disable-next-line no-throw-literal\n    throw `Unknown format ${format}!`;\n  }\n  static HasStencilAspect(format) {\n    switch (format) {\n      case WebGPUConstants.TextureFormat.Stencil8:\n      case WebGPUConstants.TextureFormat.Depth32FloatStencil8:\n      case WebGPUConstants.TextureFormat.Depth24PlusStencil8:\n        return true;\n    }\n    return false;\n  }\n  static HasDepthAndStencilAspects(format) {\n    switch (format) {\n      case WebGPUConstants.TextureFormat.Depth32FloatStencil8:\n      case WebGPUConstants.TextureFormat.Depth24PlusStencil8:\n        return true;\n    }\n    return false;\n  }\n  static GetDepthFormatOnly(format) {\n    switch (format) {\n      case WebGPUConstants.TextureFormat.Depth16Unorm:\n        return WebGPUConstants.TextureFormat.Depth16Unorm;\n      case WebGPUConstants.TextureFormat.Depth24Plus:\n        return WebGPUConstants.TextureFormat.Depth24Plus;\n      case WebGPUConstants.TextureFormat.Depth24PlusStencil8:\n        return WebGPUConstants.TextureFormat.Depth24Plus;\n      case WebGPUConstants.TextureFormat.Depth32Float:\n        return WebGPUConstants.TextureFormat.Depth32Float;\n      case WebGPUConstants.TextureFormat.Depth32FloatStencil8:\n        return WebGPUConstants.TextureFormat.Depth32Float;\n    }\n    return format;\n  }\n  static GetSample(sampleCount) {\n    // WebGPU only supports 1 or 4\n    return sampleCount > 1 ? 4 : 1;\n  }\n}\n//# sourceMappingURL=webgpuTextureHelper.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}