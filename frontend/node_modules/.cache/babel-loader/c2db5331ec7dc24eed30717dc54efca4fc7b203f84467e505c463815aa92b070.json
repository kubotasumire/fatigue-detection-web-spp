{"ast":null,"code":"import { Scene } from \"../scene.js\";\nimport { SceneComponentConstants } from \"../sceneComponent.js\";\nimport { DepthPeelingRenderer } from \"./depthPeelingRenderer.js\";\nObject.defineProperty(Scene.prototype, \"depthPeelingRenderer\", {\n  get: function () {\n    if (!this._depthPeelingRenderer) {\n      let component = this._getComponent(SceneComponentConstants.NAME_DEPTHPEELINGRENDERER);\n      if (!component) {\n        component = new DepthPeelingSceneComponent(this);\n        this._addComponent(component);\n      }\n    }\n    return this._depthPeelingRenderer;\n  },\n  set: function (value) {\n    this._depthPeelingRenderer = value;\n  },\n  enumerable: true,\n  configurable: true\n});\nObject.defineProperty(Scene.prototype, \"useOrderIndependentTransparency\", {\n  get: function () {\n    return this._useOrderIndependentTransparency;\n  },\n  set: function (value) {\n    if (this._useOrderIndependentTransparency === value) {\n      return;\n    }\n    this._useOrderIndependentTransparency = value;\n    this.markAllMaterialsAsDirty(63);\n    this.prePassRenderer?.markAsDirty();\n  },\n  enumerable: true,\n  configurable: true\n});\n/**\n * Scene component to render order independent transparency with depth peeling\n */\nexport class DepthPeelingSceneComponent {\n  /**\n   * Creates a new instance of the component for the given scene\n   * @param scene Defines the scene to register the component in\n   */\n  constructor(scene) {\n    /**\n     * The component name helpful to identify the component in the list of scene components.\n     */\n    this.name = SceneComponentConstants.NAME_DEPTHPEELINGRENDERER;\n    this.scene = scene;\n    scene.depthPeelingRenderer = new DepthPeelingRenderer(scene);\n  }\n  /**\n   * Registers the component in a given scene\n   */\n  register() {}\n  /**\n   * Rebuilds the elements related to this component in case of\n   * context lost for instance.\n   */\n  rebuild() {}\n  /**\n   * Disposes the component and the associated resources.\n   */\n  dispose() {\n    this.scene.depthPeelingRenderer?.dispose();\n    this.scene.depthPeelingRenderer = null;\n  }\n}\n//# sourceMappingURL=depthPeelingSceneComponent.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}