{"ast":null,"code":"import { BezierCurve } from \"../Maths/math.path.js\";\n/**\n * Base class used for every default easing function.\n * @see https://doc.babylonjs.com/features/featuresDeepDive/animation/advanced_animations#easing-functions\n */\nexport class EasingFunction {\n  constructor() {\n    this._easingMode = EasingFunction.EASINGMODE_EASEIN;\n  }\n  /**\n   * Sets the easing mode of the current function.\n   * @param easingMode Defines the willing mode (EASINGMODE_EASEIN, EASINGMODE_EASEOUT or EASINGMODE_EASEINOUT)\n   */\n  setEasingMode(easingMode) {\n    const n = Math.min(Math.max(easingMode, 0), 2);\n    this._easingMode = n;\n  }\n  /**\n   * Gets the current easing mode.\n   * @returns the easing mode\n   */\n  getEasingMode() {\n    return this._easingMode;\n  }\n  /**\n   * @internal\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  easeInCore(gradient) {\n    throw new Error(\"You must implement this method\");\n  }\n  /**\n   * Given an input gradient between 0 and 1, this returns the corresponding value\n   * of the easing function.\n   * @param gradient Defines the value between 0 and 1 we want the easing value for\n   * @returns the corresponding value on the curve defined by the easing function\n   */\n  ease(gradient) {\n    switch (this._easingMode) {\n      case EasingFunction.EASINGMODE_EASEIN:\n        return this.easeInCore(gradient);\n      case EasingFunction.EASINGMODE_EASEOUT:\n        return 1 - this.easeInCore(1 - gradient);\n    }\n    if (gradient >= 0.5) {\n      return (1 - this.easeInCore((1 - gradient) * 2)) * 0.5 + 0.5;\n    }\n    return this.easeInCore(gradient * 2) * 0.5;\n  }\n}\n/**\n * Interpolation follows the mathematical formula associated with the easing function.\n */\nEasingFunction.EASINGMODE_EASEIN = 0;\n/**\n * Interpolation follows 100% interpolation minus the output of the formula associated with the easing function.\n */\nEasingFunction.EASINGMODE_EASEOUT = 1;\n/**\n * Interpolation uses EaseIn for the first half of the animation and EaseOut for the second half.\n */\nEasingFunction.EASINGMODE_EASEINOUT = 2;\n/**\n * Easing function with a circle shape (see link below).\n * @see https://easings.net/#easeInCirc\n * @see https://doc.babylonjs.com/features/featuresDeepDive/animation/advanced_animations#easing-functions\n */\nexport class CircleEase extends EasingFunction {\n  /**\n   * @internal\n   */\n  easeInCore(gradient) {\n    gradient = Math.max(0, Math.min(1, gradient));\n    return 1.0 - Math.sqrt(1.0 - gradient * gradient);\n  }\n}\n/**\n * Easing function with a ease back shape (see link below).\n * @see https://easings.net/#easeInBack\n * @see https://doc.babylonjs.com/features/featuresDeepDive/animation/advanced_animations#easing-functions\n */\nexport class BackEase extends EasingFunction {\n  /**\n   * Instantiates a back ease easing\n   * @see https://easings.net/#easeInBack\n   * @param amplitude Defines the amplitude of the function\n   */\n  constructor(/** Defines the amplitude of the function */\n  amplitude = 1) {\n    super();\n    this.amplitude = amplitude;\n  }\n  /**\n   * @internal\n   */\n  easeInCore(gradient) {\n    const num = Math.max(0, this.amplitude);\n    return Math.pow(gradient, 3.0) - gradient * num * Math.sin(3.1415926535897931 * gradient);\n  }\n}\n/**\n * Easing function with a bouncing shape (see link below).\n * @see https://easings.net/#easeInBounce\n * @see https://doc.babylonjs.com/features/featuresDeepDive/animation/advanced_animations#easing-functions\n */\nexport class BounceEase extends EasingFunction {\n  /**\n   * Instantiates a bounce easing\n   * @see https://easings.net/#easeInBounce\n   * @param bounces Defines the number of bounces\n   * @param bounciness Defines the amplitude of the bounce\n   */\n  constructor(/** Defines the number of bounces */\n  bounces = 3, /** Defines the amplitude of the bounce */\n  bounciness = 2) {\n    super();\n    this.bounces = bounces;\n    this.bounciness = bounciness;\n  }\n  /**\n   * @internal\n   */\n  easeInCore(gradient) {\n    const y = Math.max(0.0, this.bounces);\n    let bounciness = this.bounciness;\n    if (bounciness <= 1.0) {\n      bounciness = 1.001;\n    }\n    const num9 = Math.pow(bounciness, y);\n    const num5 = 1.0 - bounciness;\n    const num4 = (1.0 - num9) / num5 + num9 * 0.5;\n    const num15 = gradient * num4;\n    const num65 = Math.log(-num15 * (1.0 - bounciness) + 1.0) / Math.log(bounciness);\n    const num3 = Math.floor(num65);\n    const num13 = num3 + 1.0;\n    const num8 = (1.0 - Math.pow(bounciness, num3)) / (num5 * num4);\n    const num12 = (1.0 - Math.pow(bounciness, num13)) / (num5 * num4);\n    const num7 = (num8 + num12) * 0.5;\n    const num6 = gradient - num7;\n    const num2 = num7 - num8;\n    return -Math.pow(1.0 / bounciness, y - num3) / (num2 * num2) * (num6 - num2) * (num6 + num2);\n  }\n}\n/**\n * Easing function with a power of 3 shape (see link below).\n * @see https://easings.net/#easeInCubic\n * @see https://doc.babylonjs.com/features/featuresDeepDive/animation/advanced_animations#easing-functions\n */\nexport class CubicEase extends EasingFunction {\n  /**\n   * @internal\n   */\n  easeInCore(gradient) {\n    return gradient * gradient * gradient;\n  }\n}\n/**\n * Easing function with an elastic shape (see link below).\n * @see https://easings.net/#easeInElastic\n * @see https://doc.babylonjs.com/features/featuresDeepDive/animation/advanced_animations#easing-functions\n */\nexport class ElasticEase extends EasingFunction {\n  /**\n   * Instantiates an elastic easing function\n   * @see https://easings.net/#easeInElastic\n   * @param oscillations Defines the number of oscillations\n   * @param springiness Defines the amplitude of the oscillations\n   */\n  constructor(/** Defines the number of oscillations*/\n  oscillations = 3, /** Defines the amplitude of the oscillations*/\n  springiness = 3) {\n    super();\n    this.oscillations = oscillations;\n    this.springiness = springiness;\n  }\n  /**\n   * @internal\n   */\n  easeInCore(gradient) {\n    let num2;\n    const num3 = Math.max(0.0, this.oscillations);\n    const num = Math.max(0.0, this.springiness);\n    if (num == 0) {\n      num2 = gradient;\n    } else {\n      num2 = (Math.exp(num * gradient) - 1.0) / (Math.exp(num) - 1.0);\n    }\n    return num2 * Math.sin((6.2831853071795862 * num3 + 1.5707963267948966) * gradient);\n  }\n}\n/**\n * Easing function with an exponential shape (see link below).\n * @see https://easings.net/#easeInExpo\n * @see https://doc.babylonjs.com/features/featuresDeepDive/animation/advanced_animations#easing-functions\n */\nexport class ExponentialEase extends EasingFunction {\n  /**\n   * Instantiates an exponential easing function\n   * @see https://easings.net/#easeInExpo\n   * @param exponent Defines the exponent of the function\n   */\n  constructor(/** Defines the exponent of the function */\n  exponent = 2) {\n    super();\n    this.exponent = exponent;\n  }\n  /**\n   * @internal\n   */\n  easeInCore(gradient) {\n    if (this.exponent <= 0) {\n      return gradient;\n    }\n    return (Math.exp(this.exponent * gradient) - 1.0) / (Math.exp(this.exponent) - 1.0);\n  }\n}\n/**\n * Easing function with a power shape (see link below).\n * @see https://easings.net/#easeInQuad\n * @see https://doc.babylonjs.com/features/featuresDeepDive/animation/advanced_animations#easing-functions\n */\nexport class PowerEase extends EasingFunction {\n  /**\n   * Instantiates an power base easing function\n   * @see https://easings.net/#easeInQuad\n   * @param power Defines the power of the function\n   */\n  constructor(/** Defines the power of the function */\n  power = 2) {\n    super();\n    this.power = power;\n  }\n  /**\n   * @internal\n   */\n  easeInCore(gradient) {\n    const y = Math.max(0.0, this.power);\n    return Math.pow(gradient, y);\n  }\n}\n/**\n * Easing function with a power of 2 shape (see link below).\n * @see https://easings.net/#easeInQuad\n * @see https://doc.babylonjs.com/features/featuresDeepDive/animation/advanced_animations#easing-functions\n */\nexport class QuadraticEase extends EasingFunction {\n  /**\n   * @internal\n   */\n  easeInCore(gradient) {\n    return gradient * gradient;\n  }\n}\n/**\n * Easing function with a power of 4 shape (see link below).\n * @see https://easings.net/#easeInQuart\n * @see https://doc.babylonjs.com/features/featuresDeepDive/animation/advanced_animations#easing-functions\n */\nexport class QuarticEase extends EasingFunction {\n  /**\n   * @internal\n   */\n  easeInCore(gradient) {\n    return gradient * gradient * gradient * gradient;\n  }\n}\n/**\n * Easing function with a power of 5 shape (see link below).\n * @see https://easings.net/#easeInQuint\n * @see https://doc.babylonjs.com/features/featuresDeepDive/animation/advanced_animations#easing-functions\n */\nexport class QuinticEase extends EasingFunction {\n  /**\n   * @internal\n   */\n  easeInCore(gradient) {\n    return gradient * gradient * gradient * gradient * gradient;\n  }\n}\n/**\n * Easing function with a sin shape (see link below).\n * @see https://easings.net/#easeInSine\n * @see https://doc.babylonjs.com/features/featuresDeepDive/animation/advanced_animations#easing-functions\n */\nexport class SineEase extends EasingFunction {\n  /**\n   * @internal\n   */\n  easeInCore(gradient) {\n    return 1.0 - Math.sin(1.5707963267948966 * (1.0 - gradient));\n  }\n}\n/**\n * Easing function with a bezier shape (see link below).\n * @see http://cubic-bezier.com/#.17,.67,.83,.67\n * @see https://doc.babylonjs.com/features/featuresDeepDive/animation/advanced_animations#easing-functions\n */\nexport class BezierCurveEase extends EasingFunction {\n  /**\n   * Instantiates a bezier function\n   * @see http://cubic-bezier.com/#.17,.67,.83,.67\n   * @param x1 Defines the x component of the start tangent in the bezier curve\n   * @param y1 Defines the y component of the start tangent in the bezier curve\n   * @param x2 Defines the x component of the end tangent in the bezier curve\n   * @param y2 Defines the y component of the end tangent in the bezier curve\n   */\n  constructor(/** Defines the x component of the start tangent in the bezier curve */\n  x1 = 0, /** Defines the y component of the start tangent in the bezier curve */\n  y1 = 0, /** Defines the x component of the end tangent in the bezier curve */\n  x2 = 1, /** Defines the y component of the end tangent in the bezier curve */\n  y2 = 1) {\n    super();\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n  }\n  /**\n   * @internal\n   */\n  easeInCore(gradient) {\n    return BezierCurve.Interpolate(gradient, this.x1, this.y1, this.x2, this.y2);\n  }\n}\n//# sourceMappingURL=easing.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}