{"ast":null,"code":"import { Color3 } from \"../Maths/math.color.js\";\nimport { Texture } from \"../Materials/Textures/texture.js\";\nimport { DrawWrapper } from \"../Materials/drawWrapper.js\";\nimport { VertexBuffer } from \"../Buffers/buffer.js\";\n/**\n * This represents one of the lens effect in a `lensFlareSystem`.\n * It controls one of the individual texture used in the effect.\n * @see https://doc.babylonjs.com/features/featuresDeepDive/environment/lenseFlare\n */\nexport class LensFlare {\n  /**\n   * Creates a new Lens Flare.\n   * This represents one of the lens effect in a `lensFlareSystem`.\n   * It controls one of the individual texture used in the effect.\n   * @see https://doc.babylonjs.com/features/featuresDeepDive/environment/lenseFlare\n   * @param size Define the size of the lens flare (a floating value between 0 and 1)\n   * @param position Define the position of the lens flare in the system. (a floating value between -1 and 1). A value of 0 is located on the emitter. A value greater than 0 is beyond the emitter and a value lesser than 0 is behind.\n   * @param color Define the lens color\n   * @param imgUrl Define the lens texture url\n   * @param system Define the `lensFlareSystem` this flare is part of\n   * @returns The newly created Lens Flare\n   */\n  static AddFlare(size, position, color, imgUrl, system) {\n    return new LensFlare(size, position, color, imgUrl, system);\n  }\n  /**\n   * Instantiates a new Lens Flare.\n   * This represents one of the lens effect in a `lensFlareSystem`.\n   * It controls one of the individual texture used in the effect.\n   * @see https://doc.babylonjs.com/features/featuresDeepDive/environment/lenseFlare\n   * @param size Define the size of the lens flare in the system (a floating value between 0 and 1)\n   * @param position Define the position of the lens flare in the system. (a floating value between -1 and 1). A value of 0 is located on the emitter. A value greater than 0 is beyond the emitter and a value lesser than 0 is behind.\n   * @param color Define the lens color\n   * @param imgUrl Define the lens texture url\n   * @param system Define the `lensFlareSystem` this flare is part of\n   */\n  constructor(\n  /**\n   * Define the size of the lens flare in the system (a floating value between 0 and 1)\n   */\n  size,\n  /**\n   * Define the position of the lens flare in the system. (a floating value between -1 and 1). A value of 0 is located on the emitter. A value greater than 0 is beyond the emitter and a value lesser than 0 is behind.\n   */\n  position, color, imgUrl, system) {\n    this.size = size;\n    this.position = position;\n    /**\n     * Define the alpha mode to render this particular lens.\n     */\n    this.alphaMode = 6;\n    this.color = color || new Color3(1, 1, 1);\n    this.texture = imgUrl ? new Texture(imgUrl, system.getScene(), true) : null;\n    this._system = system;\n    const engine = system.scene.getEngine();\n    this._drawWrapper = new DrawWrapper(engine);\n    this._drawWrapper.effect = engine.createEffect(\"lensFlare\", [VertexBuffer.PositionKind], [\"color\", \"viewportMatrix\"], [\"textureSampler\"], \"\");\n    system.lensFlares.push(this);\n  }\n  /**\n   * Dispose and release the lens flare with its associated resources.\n   */\n  dispose() {\n    if (this.texture) {\n      this.texture.dispose();\n    }\n    // Remove from scene\n    const index = this._system.lensFlares.indexOf(this);\n    this._system.lensFlares.splice(index, 1);\n  }\n}\n//# sourceMappingURL=lensFlare.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}