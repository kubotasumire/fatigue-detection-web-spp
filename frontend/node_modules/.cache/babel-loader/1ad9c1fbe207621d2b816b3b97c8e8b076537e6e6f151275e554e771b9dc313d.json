{"ast":null,"code":"import { FlowGraphExecutionBlock } from \"../../../flowGraphExecutionBlock.js\";\nimport { RichTypeAny } from \"../../../flowGraphRichTypes.js\";\nimport { RegisterClass } from \"../../../../Misc/typeStore.js\";\n/**\n * @experimental\n * A block that executes a branch based on a selection.\n */\nexport class FlowGraphSwitchBlock extends FlowGraphExecutionBlock {\n  constructor(\n  /**\n   * the configuration of the block\n   */\n  config) {\n    super(config);\n    this.config = config;\n    this.selection = this.registerDataInput(\"selection\", RichTypeAny);\n    this.outputFlows = [];\n    for (let i = 0; i <= this.config.cases.length; i++) {\n      this.outputFlows.push(this._registerSignalOutput(`out${i}`));\n    }\n  }\n  _execute(context, _callingSignal) {\n    const selectionValue = this.selection.getValue(context);\n    for (let i = 0; i < this.config.cases.length; i++) {\n      if (selectionValue === this.config.cases[i]) {\n        this.outputFlows[i]._activateSignal(context);\n        return;\n      }\n    }\n    // default case\n    this.outputFlows[this.outputFlows.length - 1]._activateSignal(context);\n  }\n  /**\n   * @returns class name of the block.\n   */\n  getClassName() {\n    return \"FGSwitchBlock\";\n  }\n  /**\n   * Serialize the block to a JSON representation.\n   * @param serializationObject the object to serialize to.\n   */\n  serialize(serializationObject) {\n    super.serialize(serializationObject);\n    serializationObject.cases = this.config.cases;\n  }\n}\nRegisterClass(\"FGSwitchBlock\", FlowGraphSwitchBlock);\n//# sourceMappingURL=flowGraphSwitchBlock.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}