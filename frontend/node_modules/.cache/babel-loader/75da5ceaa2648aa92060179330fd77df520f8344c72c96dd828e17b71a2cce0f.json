{"ast":null,"code":"import { RichTypeNumber } from \"../../../flowGraphRichTypes.js\";\nimport { FlowGraphExecutionBlockWithOutSignal } from \"../../../flowGraphExecutionBlockWithOutSignal.js\";\nimport { RegisterClass } from \"../../../../Misc/typeStore.js\";\n/**\n * @experimental\n * This block debounces the execution of a input, i.e. ensures that the input is only executed once every X times\n */\nexport class FlowGraphDebounceBlock extends FlowGraphExecutionBlockWithOutSignal {\n  constructor(config) {\n    super(config);\n    this.count = this.registerDataInput(\"count\", RichTypeNumber);\n    this.reset = this._registerSignalInput(\"reset\");\n    this.currentCount = this.registerDataOutput(\"currentCount\", RichTypeNumber);\n  }\n  _execute(context, callingSignal) {\n    if (callingSignal === this.reset) {\n      context._setExecutionVariable(this, \"debounceCount\", 0);\n      return;\n    }\n    const count = this.count.getValue(context);\n    const currentCount = context._getExecutionVariable(this, \"debounceCount\", 0);\n    const newCount = currentCount + 1;\n    this.currentCount.setValue(newCount, context);\n    context._setExecutionVariable(this, \"debounceCount\", newCount);\n    if (newCount >= count) {\n      this.out._activateSignal(context);\n      context._setExecutionVariable(this, \"debounceCount\", 0);\n    }\n  }\n  /**\n   * @returns class name of the block.\n   */\n  getClassName() {\n    return \"FGDebounceBlock\";\n  }\n}\nRegisterClass(\"FGDebounceBlock\", FlowGraphDebounceBlock);\n//# sourceMappingURL=flowGraphDebounceBlock.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}