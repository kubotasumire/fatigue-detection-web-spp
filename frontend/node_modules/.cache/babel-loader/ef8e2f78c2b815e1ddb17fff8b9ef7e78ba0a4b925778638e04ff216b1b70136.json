{"ast":null,"code":"import { NodeGeometryBlock } from \"../nodeGeometryBlock.js\";\nimport { RegisterClass } from \"../../../Misc/typeStore.js\";\nimport { NodeGeometryBlockConnectionPointTypes } from \"../Enums/nodeGeometryConnectionPointTypes.js\";\n/**\n * Block used to get information about a geometry\n */\nexport class GeometryInfoBlock extends NodeGeometryBlock {\n  /**\n   * Create a new GeometryInfoBlock\n   * @param name defines the block name\n   */\n  constructor(name) {\n    super(name);\n    this.registerInput(\"geometry\", NodeGeometryBlockConnectionPointTypes.Geometry);\n    this.registerOutput(\"output\", NodeGeometryBlockConnectionPointTypes.Geometry);\n    this.registerOutput(\"id\", NodeGeometryBlockConnectionPointTypes.Int);\n    this.registerOutput(\"collectionId\", NodeGeometryBlockConnectionPointTypes.Int);\n    this.registerOutput(\"verticesCount\", NodeGeometryBlockConnectionPointTypes.Int);\n    this.registerOutput(\"facesCount\", NodeGeometryBlockConnectionPointTypes.Int);\n  }\n  /**\n   * Gets the current class name\n   * @returns the class name\n   */\n  getClassName() {\n    return \"GeometryInfoBlock\";\n  }\n  /**\n   * Gets the geometry input component\n   */\n  get geometry() {\n    return this._inputs[0];\n  }\n  /**\n   * Gets the geometry output component\n   */\n  get output() {\n    return this._outputs[0];\n  }\n  /**\n   * Gets the id output component\n   */\n  get id() {\n    return this._outputs[1];\n  }\n  /**\n   * Gets the collectionId output component\n   */\n  get collectionId() {\n    return this._outputs[2];\n  }\n  /**\n   * Gets the verticesCount output component\n   */\n  get verticesCount() {\n    return this._outputs[3];\n  }\n  /**\n   * Gets the facesCount output component\n   */\n  get facesCount() {\n    return this._outputs[4];\n  }\n  _buildBlock() {\n    if (!this.geometry.isConnected) {\n      this.id._storedValue = 0;\n      this.collectionId._storedValue = 0;\n      this.verticesCount._storedValue = 0;\n      this.facesCount._storedValue = 0;\n      this.output._storedValue = 0;\n      this.id._storedFunction = null;\n      this.collectionId._storedFunction = null;\n      this.verticesCount._storedFunction = null;\n      this.facesCount._storedFunction = null;\n      this.output._storedFunction = null;\n      return;\n    }\n    this.output._storedFunction = state => {\n      this._currentVertexData = this.geometry.getConnectedValue(state);\n      return this._currentVertexData;\n    };\n    this.id._storedFunction = state => {\n      this._currentVertexData = this._currentVertexData || this.geometry.getConnectedValue(state);\n      return this._currentVertexData.uniqueId;\n    };\n    this.collectionId._storedFunction = state => {\n      this._currentVertexData = this._currentVertexData || this.geometry.getConnectedValue(state);\n      return this._currentVertexData.metadata ? this._currentVertexData.metadata.collectionId : 0;\n    };\n    this.verticesCount._storedFunction = state => {\n      this._currentVertexData = this._currentVertexData || this.geometry.getConnectedValue(state);\n      return this._currentVertexData.positions ? this._currentVertexData.positions.length / 3 : 0;\n    };\n    this.facesCount._storedFunction = state => {\n      this._currentVertexData = this._currentVertexData || this.geometry.getConnectedValue(state);\n      return this._currentVertexData.indices ? this._currentVertexData.indices.length / 3 : 0;\n    };\n  }\n}\nRegisterClass(\"BABYLON.GeometryInfoBlock\", GeometryInfoBlock);\n//# sourceMappingURL=geometryInfoBlock.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}