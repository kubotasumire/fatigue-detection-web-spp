{"ast":null,"code":"import { Scene } from \"../scene.js\";\nimport { SceneComponentConstants } from \"../sceneComponent.js\";\nimport { GamepadManager } from \"./gamepadManager.js\";\nimport { FreeCameraInputsManager } from \"../Cameras/freeCameraInputsManager.js\";\nimport { FreeCameraGamepadInput } from \"../Cameras/Inputs/freeCameraGamepadInput.js\";\nimport { ArcRotateCameraInputsManager } from \"../Cameras/arcRotateCameraInputsManager.js\";\nimport { ArcRotateCameraGamepadInput } from \"../Cameras/Inputs/arcRotateCameraGamepadInput.js\";\nObject.defineProperty(Scene.prototype, \"gamepadManager\", {\n  get: function () {\n    if (!this._gamepadManager) {\n      this._gamepadManager = new GamepadManager(this);\n      let component = this._getComponent(SceneComponentConstants.NAME_GAMEPAD);\n      if (!component) {\n        component = new GamepadSystemSceneComponent(this);\n        this._addComponent(component);\n      }\n    }\n    return this._gamepadManager;\n  },\n  enumerable: true,\n  configurable: true\n});\n/**\n * Adds a gamepad to the free camera inputs manager\n * @returns the FreeCameraInputsManager\n */\nFreeCameraInputsManager.prototype.addGamepad = function () {\n  this.add(new FreeCameraGamepadInput());\n  return this;\n};\n/**\n * Adds a gamepad to the arc rotate camera inputs manager\n * @returns the camera inputs manager\n */\nArcRotateCameraInputsManager.prototype.addGamepad = function () {\n  this.add(new ArcRotateCameraGamepadInput());\n  return this;\n};\n/**\n * Defines the gamepad scene component responsible to manage gamepads in a given scene\n */\nexport class GamepadSystemSceneComponent {\n  /**\n   * Creates a new instance of the component for the given scene\n   * @param scene Defines the scene to register the component in\n   */\n  constructor(scene) {\n    /**\n     * The component name helpfull to identify the component in the list of scene components.\n     */\n    this.name = SceneComponentConstants.NAME_GAMEPAD;\n    this.scene = scene;\n  }\n  /**\n   * Registers the component in a given scene\n   */\n  register() {\n    this.scene._beforeCameraUpdateStage.registerStep(SceneComponentConstants.STEP_BEFORECAMERAUPDATE_GAMEPAD, this, this._beforeCameraUpdate);\n  }\n  /**\n   * Rebuilds the elements related to this component in case of\n   * context lost for instance.\n   */\n  rebuild() {\n    // Nothing to do for gamepads\n  }\n  /**\n   * Disposes the component and the associated resources\n   */\n  dispose() {\n    const gamepadManager = this.scene._gamepadManager;\n    if (gamepadManager) {\n      gamepadManager.dispose();\n      this.scene._gamepadManager = null;\n    }\n  }\n  _beforeCameraUpdate() {\n    const gamepadManager = this.scene._gamepadManager;\n    if (gamepadManager && gamepadManager._isMonitoring) {\n      gamepadManager._checkGamepadsStatus();\n    }\n  }\n}\n//# sourceMappingURL=gamepadSceneComponent.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}